{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/ui/button.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input bg-background hover:bg-accent/10\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent/10\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,0RACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBAAO,8OAAC;QAAK,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QAAK,KAAK;QAAM,GAAG,KAAK;;;;;;AAC/F;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/ui/input.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(({ className, type, ...props }, ref) => {\n  return (\n    <input\n      type={type}\n      className={cn(\n        \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAOA,MAAM,sBAAQ,mNAAgB,CAA+B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC3F,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,kHAAE,EACX,gWACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AACA,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cn } from \"@/lib/utils\"\n\nconst Label = React.forwardRef<React.ElementRef<typeof LabelPrimitive.Root>, React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>>(\n  ({ className, ...props }, ref) => (\n    <LabelPrimitive.Root\n      ref={ref}\n      className={cn(\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\", className)}\n      {...props}\n    />\n  ),\n)\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,yKAAmB;QAClB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8FAA8F;QAC3G,GAAG,KAAK;;;;;;AAIf,MAAM,WAAW,GAAG,yKAAmB,CAAC,WAAW"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/auth/auth-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useEffect, useMemo, useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { PawPrint, User, Briefcase, ArrowLeft, Loader2, X, CheckCircle2, AlertCircle } from \"lucide-react\"\n\ntype UserRole = \"owner\" | \"sitter\"\ntype AuthMode = \"login\" | \"register\" | \"role-select\"\n\ninterface AuthModalProps {\n  isOpen: boolean\n  onClose: () => void\n  initialMode: \"login\" | \"register\"\n  onLogin: (email: string, password: string) => Promise<void>\n  onRegister: (name: string, email: string, password: string, role: UserRole) => Promise<void>\n  authError?: string\n}\n\nconst validateEmail = (value: string) => {\n  if (!value) return \"Email requis\"\n  if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)) return \"Email invalide\"\n  return \"\"\n}\nconst validatePassword = (value: string) => {\n  if (!value) return \"Mot de passe requis\"\n  if (value.length < 6) return \"6 caracteres minimum\"\n  return \"\"\n}\nconst validateName = (value: string) => {\n  if (!value.trim()) return \"Nom requis\"\n  return \"\"\n}\n\nexport function AuthModal({ isOpen, onClose, initialMode, onLogin, onRegister, authError }: AuthModalProps) {\n  const [mode, setMode] = useState<AuthMode>(initialMode === \"register\" ? \"role-select\" : \"login\")\n  const [selectedRole, setSelectedRole] = useState<UserRole | null>(null)\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [name, setName] = useState(\"\")\n  const [isLoading, setIsLoading] = useState(false)\n  const [errors, setErrors] = useState<Record<string, string>>({})\n\n  useEffect(() => {\n    if (isOpen) {\n      setMode(initialMode === \"register\" ? \"role-select\" : \"login\")\n      setSelectedRole(null)\n      setEmail(\"\")\n      setPassword(\"\")\n      setName(\"\")\n      setErrors({})\n    }\n  }, [isOpen, initialMode])\n\n  const loginValid = useMemo(() => !validateEmail(email) && !validatePassword(password), [email, password])\n  const registerValid = useMemo(\n    () => !validateName(name) && !validateEmail(email) && !validatePassword(password) && !!selectedRole,\n    [name, email, password, selectedRole],\n  )\n\n  const googleLoginUrl = `${process.env.NEXT_PUBLIC_API_BASE_URL || \"/api\"}/auth/google/login`\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault()\n    const nextErrors: Record<string, string> = {\n      email: validateEmail(email),\n      password: validatePassword(password),\n    }\n    setErrors(nextErrors)\n    if (nextErrors.email || nextErrors.password) return\n    setIsLoading(true)\n    try {\n      await onLogin(email, password)\n      onClose()\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleRegister = async (e: React.FormEvent) => {\n    e.preventDefault()\n    const nextErrors: Record<string, string> = {\n      name: validateName(name),\n      email: validateEmail(email),\n      password: validatePassword(password),\n    }\n    if (!selectedRole) nextErrors.role = \"Choisis un r√¥le\"\n    setErrors(nextErrors)\n    if (nextErrors.name || nextErrors.email || nextErrors.password || nextErrors.role) return\n    setIsLoading(true)\n    try {\n      await onRegister(name, email, password, selectedRole as UserRole)\n      onClose()\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleRoleSelect = (role: UserRole) => {\n    setSelectedRole(role)\n    setMode(\"register\")\n    setErrors((prev) => ({ ...prev, role: \"\" }))\n  }\n\n  const ValidIcon = ({ field }: { field: string }) =>\n    !errors[field] && !!(field === \"role\" ? selectedRole : field === \"name\" ? name : field === \"email\" ? email : password) ? (\n      <CheckCircle2 className=\"w-4 h-4 text-green-600\" aria-hidden=\"true\" />\n    ) : null\n\n  if (!isOpen) return null\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      <div className=\"absolute inset-0 bg-foreground/50 backdrop-blur-sm\" onClick={onClose} />\n\n      <div\n        className=\"relative bg-card rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-hidden border border-border\"\n        style={{\n          backgroundImage: \"url(/dog-chchiya.png)\",\n          backgroundSize: \"cover\",\n          backgroundPosition: \"center\",\n          backgroundRepeat: \"no-repeat\",\n        }}\n      >\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 w-8 h-8 rounded-full bg-secondary flex items-center justify-center text-muted-foreground hover:text-foreground transition-colors z-10\"\n          aria-label=\"Fermer\"\n        >\n          <X className=\"w-4 h-4\" />\n        </button>\n\n        <div className=\"pt-8 pb-4 px-6 text-center border-b border-border bg-white/75 backdrop-blur-sm\">\n          <div className=\"flex items-center justify-center gap-2 mb-2\">\n            <div className=\"w-10 h-10 bg-primary rounded-xl flex items-center justify-center\">\n              <PawPrint className=\"w-6 h-6 text-primary-foreground\" />\n            </div>\n            <span className=\"text-xl font-bold text-foreground\">PetCare</span>\n          </div>\n        </div>\n\n        <div className=\"p-6 bg-white/75 backdrop-blur-sm\">\n          {mode === \"login\" && (\n            <>\n              <div className=\"text-center mb-6 p-4 rounded-xl bg-white/70 backdrop-blur-sm border border-border shadow-sm\">\n                <h2 className=\"text-2xl font-bold text-foreground\">Bienvenue</h2>\n                <p className=\"text-muted-foreground mt-1\">Connecte-toi pour continuer</p>\n              </div>\n              <form onSubmit={handleLogin} className=\"space-y-4\">\n                <div className=\"space-y-1\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label htmlFor=\"email\">Email</Label>\n                    <ValidIcon field=\"email\" />\n                  </div>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    placeholder=\"FoulenElFoulani@gmail.com\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    onBlur={() => setErrors((prev) => ({ ...prev, email: validateEmail(email) }))}\n                    aria-invalid={!!errors.email}\n                    required\n                    className=\"h-12\"\n                  />\n                  {errors.email && (\n                    <p className=\"flex items-center gap-1 text-xs text-destructive\">\n                      <AlertCircle className=\"w-3 h-3\" />\n                      {errors.email}\n                    </p>\n                  )}\n                </div>\n                <div className=\"space-y-1\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label htmlFor=\"password\">Mot de passe</Label>\n                    <ValidIcon field=\"password\" />\n                  </div>\n                  <Input\n                    id=\"password\"\n                    type=\"password\"\n                    placeholder=\"********\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    onBlur={() => setErrors((prev) => ({ ...prev, password: validatePassword(password) }))}\n                    aria-invalid={!!errors.password}\n                    required\n                    className=\"h-12\"\n                  />\n                  {errors.password && (\n                    <p className=\"flex items-center gap-1 text-xs text-destructive\">\n                      <AlertCircle className=\"w-3 h-3\" />\n                      {errors.password}\n                    </p>\n                  )}\n                </div>\n                {authError ? <p className=\"text-sm text-destructive\">{authError}</p> : null}\n                <Button type=\"submit\" className=\"w-full h-12 text-base\" disabled={isLoading || !loginValid}>\n                  {isLoading ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : null}\n                  Se connecter\n                </Button>\n              </form>\n\n              <div className=\"mt-4 flex items-center\">\n                <div className=\"flex-1 h-px bg-border\" />\n                <span className=\"px-3 text-xs text-muted-foreground uppercase tracking-wide\">ou</span>\n                <div className=\"flex-1 h-px bg-border\" />\n              </div>\n\n              <a href={googleLoginUrl} className=\"block mt-4\">\n                <Button type=\"button\" variant=\"outline\" className=\"w-full h-12 text-base bg-white\">\n                  Continuer avec Google\n                </Button>\n              </a>\n\n              <div className=\"mt-6 text-center\">\n                <p className=\"text-sm text-muted-foreground\">\n                  Pas de compte ?{\" \"}\n                  <button onClick={() => setMode(\"role-select\")} className=\"text-primary hover:underline font-medium\">\n                    Cr√©er un compte\n                  </button>\n                </p>\n              </div>\n            </>\n          )}\n\n          {mode === \"role-select\" && (\n            <>\n              <div className=\"text-center mb-6 p-4 rounded-xl bg-white/90 backdrop-blur-md border border-border shadow-sm\">\n                <h2 className=\"text-2xl font-bold text-foreground\">Choisis ton r√¥le</h2>\n                <p className=\"text-muted-foreground mt-1\">Propri√©taire ou gardien</p>\n              </div>\n              <div className=\"space-y-3\">\n                <button\n                  onClick={() => handleRoleSelect(\"owner\")}\n                  className=\"w-full p-4 rounded-xl border-2 border-border bg-white/75 backdrop-blur-sm hover:border-primary hover:bg-primary/5 transition-all text-left flex items-start gap-4 shadow-md\"\n                >\n                  <div className=\"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center shrink-0\">\n                    <User className=\"w-6 h-6 text-primary\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-foreground\">Propri√©taire</h3>\n                    <p className=\"text-sm text-muted-foreground\">Trouve un gardien de confiance</p>\n                  </div>\n                </button>\n\n                <button\n                  onClick={() => handleRoleSelect(\"sitter\")}\n                  className=\"w-full p-4 rounded-xl border-2 border-border bg-white/90 backdrop-blur-md hover:border-accent hover:bg-accent/5 transition-all text-left flex items-start gap-4 shadow-md\"\n                >\n                  <div className=\"w-12 h-12 bg-accent/10 rounded-xl flex items-center justify-center shrink-0\">\n                    <Briefcase className=\"w-6 h-6 text-accent\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-foreground\">Gardien</h3>\n                    <p className=\"text-sm text-muted-foreground\">Gagne en gardant des animaux</p>\n                  </div>\n                </button>\n              </div>\n\n              <div className=\"mt-6 text-center\">\n                <button onClick={() => setMode(\"login\")} className=\"text-sm text-muted-foreground hover:text-foreground\">\n                  D√©j√† un compte ? Connexion\n                </button>\n              </div>\n            </>\n          )}\n\n          {mode === \"register\" && (\n            <>\n              <button\n                onClick={() => setMode(\"role-select\")}\n                className=\"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground mb-4\"\n              >\n                <ArrowLeft size={16} />\n                Retour\n              </button>\n              <div className=\"text-center mb-6 p-4 rounded-xl bg-white/90 backdrop-blur-md border border-border shadow-sm\">\n                <h2 className=\"text-2xl font-bold text-foreground\">Cr√©er un compte</h2>\n                <p className=\"text-muted-foreground mt-1\">\n                  Inscription en tant que {selectedRole === \"owner\" ? \"propri√©taire\" : \"gardien\"}\n                </p>\n              </div>\n              <form onSubmit={handleRegister} className=\"space-y-4\">\n                <div className=\"space-y-1\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label htmlFor=\"name\">Nom complet</Label>\n                    <ValidIcon field=\"name\" />\n                  </div>\n                  <Input\n                    id=\"name\"\n                    type=\"text\"\n                    placeholder=\"Foulen El Foulani\"\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                    onBlur={() => setErrors((prev) => ({ ...prev, name: validateName(name) }))}\n                    aria-invalid={!!errors.name}\n                    required\n                    className=\"h-12\"\n                  />\n                  {errors.name && (\n                    <p className=\"flex items-center gap-1 text-xs text-destructive\">\n                      <AlertCircle className=\"w-3 h-3\" />\n                      {errors.name}\n                    </p>\n                  )}\n                </div>\n                <div className=\"space-y-1\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label htmlFor=\"reg-email\">Email</Label>\n                    <ValidIcon field=\"email\" />\n                  </div>\n                  <Input\n                    id=\"reg-email\"\n                    type=\"email\"\n                    placeholder=\"FoulenElFoulani@gmail.com\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    onBlur={() => setErrors((prev) => ({ ...prev, email: validateEmail(email) }))}\n                    aria-invalid={!!errors.email}\n                    required\n                    className=\"h-12\"\n                  />\n                  {errors.email && (\n                    <p className=\"flex items-center gap-1 text-xs text-destructive\">\n                      <AlertCircle className=\"w-3 h-3\" />\n                      {errors.email}\n                    </p>\n                  )}\n                </div>\n                <div className=\"space-y-1\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label htmlFor=\"reg-password\">Mot de passe</Label>\n                    <ValidIcon field=\"password\" />\n                  </div>\n                  <Input\n                    id=\"reg-password\"\n                    type=\"password\"\n                    placeholder=\"********\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    onBlur={() => setErrors((prev) => ({ ...prev, password: validatePassword(password) }))}\n                    aria-invalid={!!errors.password}\n                    required\n                    className=\"h-12\"\n                  />\n                  {errors.password && (\n                    <p className=\"flex items-center gap-1 text-xs text-destructive\">\n                      <AlertCircle className=\"w-3 h-3\" />\n                      {errors.password}\n                    </p>\n                  )}\n                </div>\n                {errors.role && (\n                  <p className=\"flex items-center gap-1 text-xs text-destructive\">\n                    <AlertCircle className=\"w-3 h-3\" />\n                    {errors.role}\n                  </p>\n                )}\n                {authError ? <p className=\"text-sm text-destructive\">{authError}</p> : null}\n                <Button type=\"submit\" className=\"w-full h-12 text-base\" disabled={isLoading || !registerValid}>\n                  {isLoading ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : null}\n                  S'inscrire\n                </Button>\n              </form>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1111, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/content/blog/posts.json"],"sourcesContent":["[{\"slug\":\"preparer-une-garde\",\"title\":\"Pr√©parer une garde sereine pour votre animal\",\"excerpt\":\"Checklist rapide avant de confier votre compagnon √† un gardien.\",\"date\":\"2026-01-04\",\"image\":\"blog1.png\",\"body\":\"Confier son animal √† un gardien peut √™tre une source de stress‚Ä¶ mais avec une bonne pr√©paration, tout se passe en douceur ‚Äî pour vous, votre animal et le gardien.\\n\\n‚úÖ Avant la garde : les indispensables\\n\\nInformations essentielles : √¢ge, habitudes, caract√®re, peurs √©ventuelles.\\n\\nRythme quotidien : heures des repas, promenades, jeux et sommeil.\\n\\nSant√© : carnet de vaccination, traitements, v√©t√©rinaire habituel.\\n\\nAlimentation : quantit√© exacte, horaires, friandises autoris√©es ou non.\\n\\nüè† Pr√©parer l‚Äôenvironnement\\n\\nLaissez les affaires famili√®res (panier, jouet, couverture).\\n\\nExpliquez les r√®gles de la maison (zones interdites, acc√®s ext√©rieur).\\n\\nPr√©parez tout √† l‚Äôavance pour √©viter les oublis.\\n\\nüí¨ Communication avec le gardien\\n\\n√âchangez avant la garde pour r√©pondre aux questions.\\n\\nFixez vos attentes (fr√©quence des nouvelles, photos, messages).\\n\\nüëâ Une bonne pr√©paration, c‚Äôest la cl√© d‚Äôune garde sereine et d‚Äôun animal heureux.\"},{\"slug\":\"fixer-un-prix-juste\",\"title\":\"Fixer un prix juste pour une demande\",\"excerpt\":\"Comprendre les minima par type de service et la dur√©e.\",\"date\":\"2026-01-03\",\"image\":\"blog2.png\",\"body\":\"Commencez au minimum propos√© par le service choisi, puis ajustez selon la dur√©e, le d√©placement et les besoins sp√©cifiques (m√©dicaments, promenade longue). Un prix clair √©vite les contre-offres refus√©es.\"},{\"slug\":\"etre-un-bon-gardien\",\"title\":\"√ätre un bon gardien : communication et mises √† jour\",\"excerpt\":\"Envoyer des nouvelles r√©guli√®res augmente la confiance et les avis positifs.\",\"date\":\"2026-01-02\",\"image\":\"blog3.png\",\"body\":\"Envoyez une photo courte apr√®s chaque promenade ou repas. Signalez toute anomalie imm√©diatement. Les propri√©taires notent la r√©activit√© et la transparence, ce qui am√©liore votre note et vos futures r√©servations.\"}]"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1111, "column": 2035}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1115, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/landing/landing-page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { AuthModal } from \"@/components/auth/auth-modal\"\nimport { Button } from \"@/components/ui/button\"\nimport posts from \"@/content/blog/posts.json\"\nimport { PawPrint, MapPin, Shield, ChevronRight, Star } from \"lucide-react\"\n\ntype UserRole = \"owner\" | \"sitter\"\n\ninterface LandingPageProps {\n  onLogin: (email: string, password: string) => Promise<void>\n  onRegister: (name: string, email: string, password: string, role: UserRole) => Promise<void>\n}\n\nconst steps = [\n  { title: \"Cr√©er une demande\", desc: \"Choisissez le service, l'adresse et le budget.\" },\n  { title: \"Recevoir des offres\", desc: \"Les gardiens proches r√©pondent, contre-offres incluses.\" },\n  { title: \"Accepter et r√©server\", desc: \"Une r√©servation est cr√©√©e automatiquement.\" },\n  { title: \"Suivi et avis\", desc: \"Mises √† jour puis avis qui renforcent la confiance.\" },\n]\n\nexport function LandingPage({ onLogin, onRegister }: LandingPageProps) {\n  const [showAuthModal, setShowAuthModal] = useState(false)\n  const [authMode, setAuthMode] = useState<\"login\" | \"register\">(\"login\")\n  const [filters, setFilters] = useState<{ distance: boolean; available: boolean }>({ distance: true, available: true })\n\n  const openLogin = () => {\n    setAuthMode(\"login\")\n    setShowAuthModal(true)\n  }\n\n  const openRegister = () => {\n    setAuthMode(\"register\")\n    setShowAuthModal(true)\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background text-foreground\">\n      <header className=\"fixed top-0 left-0 right-0 z-50 bg-background/85 backdrop-blur-md border-b border-border\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-10 h-10 bg-primary rounded-2xl flex items-center justify-center shadow-md\">\n                <PawPrint className=\"w-6 h-6 text-primary-foreground\" />\n              </div>\n              <div className=\"leading-tight\">\n                <div className=\"text-lg font-semibold\">PetCare</div>\n                <div className=\"text-xs text-muted-foreground\">Taking care of your pet</div>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <Button variant=\"ghost\" className=\"hidden sm:inline-flex\" onClick={openLogin}>\n                Connexion\n              </Button>\n              <Button onClick={openRegister}>Cr√©er un compte</Button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <section className=\"pt-28 pb-14 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-primary/10 via-background to-accent/10\">\n        <div className=\"max-w-7xl mx-auto grid lg:grid-cols-2 gap-10 items-center\">\n          <div className=\"space-y-4 text-center lg:text-left\">\n            <div className=\"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white shadow-sm text-sm text-primary\">\n              <MapPin className=\"w-4 h-4\" />\n              Grand Tunis\n            </div>\n            <h1 className=\"text-4xl sm:text-5xl font-bold leading-tight\">\n              Trouvez le gardien parfait pour votre compagnon\n            </h1>\n            <p className=\"text-lg text-muted-foreground max-w-xl mx-auto lg:mx-0\">\n              Des gardiens v√©rifi√©s, passionn√©s et disponibles pr√®s de chez vous. R√©servez en quelques clics, profitez\n              l'esprit tranquille.\n            </p>\n            <div className=\"flex flex-col sm:flex-row gap-3 justify-center lg:justify-start\">\n              <Button size=\"lg\" className=\"rounded-2xl bg-primary hover:bg-primary/90\" onClick={openRegister}>\n                Trouver un pet-sitter <ChevronRight className=\"w-5 h-5 ml-1\" />\n              </Button>\n              <Button size=\"lg\" variant=\"outline\" className=\"rounded-2xl border-primary text-primary bg-white\" onClick={openRegister}>\n                Devenir pet-sitter\n              </Button>\n            </div>\n            <div className=\"flex items-center gap-6 text-sm text-muted-foreground justify-center lg:justify-start\">\n              <div className=\"flex -space-x-2\">\n                <img src=\"/happy-person-1.jpeg\" alt=\"\" className=\"w-9 h-9 rounded-full border-2 border-white shadow\" />\n                <img src=\"/happy-person-2.jpeg\" alt=\"\" className=\"w-9 h-9 rounded-full border-2 border-white shadow\" />\n                <img src=\"/happy-person-3.jpeg\" alt=\"\" className=\"w-9 h-9 rounded-full border-2 border-white shadow\" />\n              </div>\n              <span>500+ propri√©taires satisfaits</span>\n              <div className=\"flex items-center gap-1\">\n                <Star className=\"w-5 h-5 fill-amber-400 text-amber-400\" />\n                <span className=\"font-semibold\">4.9</span>\n              </div>\n            </div>\n          </div>\n          <div className=\"relative\">\n            <div className=\"aspect-square rounded-[32px] overflow-hidden bg-[#f5e6d3] shadow-xl border border-border\">\n              <img src=\"/dog-fez.png\" alt=\"\" className=\"w-full h-full object-contain\" />\n            </div>\n            <div className=\"absolute -bottom-5 left-5 glass rounded-2xl p-4 border border-border\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-12 h-12 rounded-full bg-accent/10 flex items-center justify-center\">\n                  <Shield className=\"w-6 h-6 text-accent\" />\n                </div>\n                <div>\n                  <p className=\"font-semibold\">Sitters v√©rifi√©s</p>\n                  <p className=\"text-sm text-muted-foreground\">Local & v√©rifi√©</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"py-16 px-4 sm:px-6 lg:px-8 bg-secondary\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"text-center mb-10\">\n            <h2 className=\"text-3xl font-bold\">Nos Services</h2>\n            <p className=\"text-lg text-muted-foreground\">Des solutions adapt√©es √† tous vos besoins</p>\n          </div>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n            <ServiceCard\n              variant=\"garde\"\n              title=\"Garde √† domicile\"\n              description=\"Sitter chez vous pour prendre soin de votre compagnon dans son environnement familier.\"\n              features={[\"‚úì Visite quotidienne\", \"‚úì Photos et updates\", \"‚úì Soins personnalis√©s\"]}\n              priceLabel=\"25 TND\"\n              priceUnit=\"/jour\"\n              badge=\"Populaire\"\n            />\n            <ServiceCard\n              variant=\"promenade\"\n              title=\"Promenade\"\n              description=\"Balade quotidienne pour l'exercice et le bien-√™tre.\"\n              features={[\"‚úì 30-60 minutes\", \"‚úì Parcours s√©curis√©s\", \"‚úì Socialisation\"]}\n              priceLabel=\"15 TND\"\n              priceUnit=\"/balade\"\n              />\n            <ServiceCard\n              variant=\"urgence\"\n              title=\"Urgence\"\n              description=\"Assistance rapide pour les situations impr√©vues.\"\n              features={[\"‚úì R√©ponse imm√©diate\", \"‚úì Service prioritaire\", \"‚úì Gardiens disponibles\"]}\n              priceLabel=\"40 TND\"\n              priceUnit=\"/intervention\"\n              badge=\"24/7\"\n              \n              pulse\n            />\n            <ServiceCard\n              variant=\"taxi\"\n              title=\"Pet Taxi\"\n              description=\"Transport s√©curis√© pour v√©t√©rinaire ou toilettage.\"\n              features={[\"‚úì V√©hicule adapt√©\", \"‚úì Chauffeur exp√©riment√©\", \"‚úì Porte-√†-porte\"]}\n              priceLabel=\"20 TND\"\n              priceUnit=\"/trajet\"\n              \n            />\n          </div>\n        </div>\n      </section>\n\n\n      <section className=\"py-12 px-4 sm:px-6 lg:px-8 bg-white/60\">\n        <div className=\"max-w-7xl mx-auto grid lg:grid-cols-2 gap-8 items-center\">\n          <div className=\"space-y-3\">\n            <h2 className=\"text-3xl font-bold\">Gardiens proches de chez vous</h2>\n            <p className=\"text-muted-foreground\">\n              Carte, sitters v√©rifi√©s, notes et distance. Filtrez par proximit√© dans le Grand Tunis.\n            </p>\n            <div className=\"flex items-center gap-4 text-sm\">\n              <button\n                onClick={() => setFilters((f) => ({ ...f, distance: !f.distance }))}\n                className={`px-3 py-1 rounded-full transition ${\n                  filters.distance ? \"bg-primary/15 text-primary\" : \"bg-muted text-muted-foreground\"\n                }`}\n              >\n                Filtre distance\n              </button>\n              <button\n                onClick={() => setFilters((f) => ({ ...f, available: !f.available }))}\n                className={`px-3 py-1 rounded-full transition ${\n                  filters.available ? \"bg-accent/15 text-accent\" : \"bg-muted text-muted-foreground\"\n                }`}\n              >\n                Sitters disponibles\n              </button>\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              Filtres actifs : {filters.distance ? \"distance\" : \"\"} {filters.available ? \"‚Ä¢ disponibilit√©s\" : \"\"}\n            </p>\n          </div>\n          <div className=\"h-80 rounded-3xl overflow-hidden shadow-lg border border-border relative\">\n            <img src=\"/map-of-tunis-tunisia-streets.png\" alt=\"Tunis map\" className=\"w-full h-full object-cover\" />\n            <div className=\"absolute inset-0 bg-gradient-to-t from-background/30 to-transparent pointer-events-none\" />\n            <button className=\"absolute top-3 right-3 bg-white/90 rounded-full px-3 py-1 text-sm shadow\">Filtrer</button>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"py-12 px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-5xl mx-auto grid md:grid-cols-2 gap-8 items-center\">\n          <div className=\"space-y-3\">\n            <h2 className=\"text-3xl font-bold\">Profil animal</h2>\n            <p className=\"text-muted-foreground\">Carte d'identit√© compl√®te pour que le gardien sache tout avant la mission.</p>\n            <div className=\"flex flex-wrap gap-2\">\n              {[\"Amical\", \"Actif\", \"Aime les enfants\", \"Int√©rieur\"].map((tag) => (\n                <span key={tag} className=\"px-3 py-1 rounded-full bg-primary/10 text-primary text-sm shadow-sm\">\n                  {tag}\n                </span>\n              ))}\n            </div>\n          </div>\n          <div className=\"bg-white rounded-3xl p-4 shadow-md border border-border\">\n            <div className=\"flex gap-4\">\n              <img src=\"/sam.jpg\" alt=\"\" className=\"w-28 h-28 rounded-2xl object-cover\" />\n              <div>\n                <h3 className=\"text-xl font-semibold\">Sam</h3>\n                <p className=\"text-sm text-muted-foreground\">Husky ‚Ä¢ 3y 1m</p>\n                <div className=\"mt-2 grid grid-cols-2 gap-2 text-sm\">\n                  <div className=\"glass rounded-xl p-2\">\n                    <p className=\"font-semibold\">Poids</p>\n                    <p className=\"text-muted-foreground\">5.5 kg</p>\n                  </div>\n                  <div className=\"glass rounded-xl p-2\">\n                    <p className=\"font-semibold\">Hauteur</p>\n                    <p className=\"text-muted-foreground\">42 cm</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"mt-3 flex flex-wrap gap-2\">\n              {[\"Dress√© en laisse\", \"Ok chats\", \"Actif\"].map((t) => (\n                <span key={t} className=\"px-3 py-1 rounded-full bg-accent/10 text-accent text-xs font-medium\">\n                  {t}\n                </span>\n              ))}\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"py-12 px-4 sm:px-6 lg:px-8 bg-background\">\n        <div className=\"max-w-6xl mx-auto space-y-6\">\n          <h2 className=\"text-3xl font-bold\">Comment √ßa marche ?</h2>\n          <div className=\"grid md:grid-cols-4 gap-4\">\n            {steps.map((step, idx) => (\n              <div key={step.title} className=\"rounded-2xl border border-border bg-card p-4 shadow-sm\">\n                <div className=\"w-8 h-8 rounded-full bg-primary/10 text-primary font-bold flex items-center justify-center mb-3\">\n                  {idx + 1}\n                </div>\n                <p className=\"font-semibold\">{step.title}</p>\n                <p className=\"text-sm text-muted-foreground\">{step.desc}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      <section className=\"py-12 px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-6xl mx-auto space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-3xl font-bold\">Blog</h2>\n            <a href=\"/blog\" className=\"text-primary text-sm underline\">\n              Voir tout\n            </a>\n          </div>\n          <div className=\"grid md:grid-cols-3 gap-4\">\n            {posts.slice(0, 3).map((post) => (\n              <a\n                key={post.slug}\n                href={`/blog/${post.slug}`}\n                className=\"rounded-2xl border border-border bg-card p-4 shadow-sm hover:shadow-md transition space-y-2\"\n              >\n                {post.image && (\n                  <div className=\"h-40 w-full overflow-hidden rounded-xl bg-muted\">\n                    <img src={post.image} alt={post.title} className=\"w-full h-full object-cover\" />\n                  </div>\n                )}\n                <p className=\"text-xs text-muted-foreground\">{new Date(post.date).toLocaleDateString()}</p>\n                <p className=\"text-lg font-semibold\">{post.title}</p>\n                <p className=\"text-sm text-muted-foreground\">{post.excerpt}</p>\n              </a>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      <AuthModal\n        isOpen={showAuthModal}\n        onClose={() => setShowAuthModal(false)}\n        initialMode={authMode}\n        onLogin={onLogin}\n        onRegister={(name, email, password) => onRegister(name, email, password, \"owner\")}\n      />\n    </div>\n  )\n}\n\nfunction ServiceCard({\n  variant,\n  title,\n  description,\n  features,\n  priceLabel,\n  priceUnit,\n  badge,\n  pulse,\n}: {\n  variant: \"garde\" | \"promenade\" | \"urgence\" | \"taxi\"\n  title: string\n  description: string\n  features: string[]\n  priceLabel: string\n  priceUnit: string\n  badge?: string\n  pulse?: boolean\n}) {\n  const borderMap = {\n    garde: \"#d4c5a9\",\n    promenade: \"#a8cde8\",\n    urgence: \"#ffb3b3\",\n    taxi: \"#d1b8e8\",\n  }\n  const bgMap = {\n    garde: \"from-[#f5e6d3]\",\n    promenade: \"from-[#d4e7f7]\",\n    urgence: \"from-[#ffd4d4]\",\n    taxi: \"from-[#e8d9f5]\",\n  }\n  return (\n    <div\n      className={`relative rounded-2xl p-5 bg-gradient-to-br ${bgMap[variant]} to-white border-t-4 shadow-sm hover:-translate-y-2 hover:shadow-lg transition`}\n      style={{ borderColor: borderMap[variant] }}\n    >\n      <div className=\"absolute top-0 right-0 w-24 h-24 bg-[radial-gradient(circle_at_top_right,rgba(198,123,92,0.1)_0%,transparent_70%)] pointer-events-none\" />\n      <div className=\"w-16 h-16 flex items-center justify-center bg-white/60 rounded-xl shadow-sm mb-3 text-primary font-bold text-lg\">\n        {title.charAt(0)}\n      </div>\n      {badge && (\n        <span\n          className={`absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-semibold ${\n            pulse ? \"bg-destructive text-white animate-pulse uppercase\" : \"bg-gradient-to-r from-[#ffd700] to-[#ffa500] text-[#2c2c2c]\"\n          }`}\n        >\n          {badge}\n        </span>\n      )}\n      <h3 className=\"text-xl font-semibold\">{title}</h3>\n      <p className=\"text-sm text-muted-foreground mb-3\">{description}</p>\n      <div className=\"flex flex-col gap-2 text-sm text-muted-foreground mb-4\">\n        {features.map((f) => (\n          <span key={f}>{f}</span>\n        ))}\n      </div>\n      <div className=\"flex items-center justify-between border-t pt-3\">\n        <div className=\"text-primary font-bold text-lg\">\n          {priceLabel} <span className=\"text-sm font-normal text-muted-foreground\">{priceUnit}</span>\n        </div>\n        <Button size=\"sm\" className=\"bg-primary text-white hover:bg-primary/90\">\n          R√©server ‚Üí\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nfunction StatCard({ icon, value, label }: { icon: string; value: string; label: string }) {\n  return (\n    <div className=\"rounded-2xl border border-border bg-background p-5 shadow-sm hover:shadow-md transition\">\n      <div className=\"text-3xl mb-2\">{icon}</div>\n      <div className=\"text-3xl font-bold text-primary\">{value}</div>\n      <p className=\"text-sm text-muted-foreground\">{label}</p>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2285, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/map/map-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useMemo, useRef, useState } from \"react\"\nimport { Loader } from \"@googlemaps/js-api-loader\"\nimport { cn } from \"@/lib/utils\"\n\nexport interface MapMarker {\n  id: string\n  lat: number\n  lng: number\n  type: \"request\" | \"sitter\" | \"user\"\n  label?: string\n}\n\ninterface MapViewProps {\n  apiKey?: string\n  center?: { lat: number; lng: number }\n  markers?: MapMarker[]\n  onMarkerClick?: (id: string) => void\n  onSelectLocation?: (coords: { lat: number; lng: number }) => void\n  className?: string\n  showRadius?: boolean\n  radiusKm?: number\n}\n\nexport function MapView({\n  apiKey = process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY || \"\",\n  center = { lat: 36.8065, lng: 10.1815 },\n  markers = [],\n  onMarkerClick,\n  onSelectLocation,\n  className,\n  showRadius = false,\n  radiusKm = 5,\n}: MapViewProps) {\n  const mapRef = useRef<HTMLDivElement>(null)\n  const mapInstance = useRef<google.maps.Map | null>(null)\n  const markerInstances = useRef<google.maps.Marker[]>([])\n  const circleInstance = useRef<google.maps.Circle | null>(null)\n  const clickListener = useRef<google.maps.MapsEventListener | null>(null)\n  const [error, setError] = useState<string | null>(null)\n\n  const loader = useMemo(\n    () =>\n      new Loader({\n        apiKey,\n        version: \"weekly\",\n        libraries: [\"places\"],\n      }),\n    [apiKey],\n  )\n\n  useEffect(() => {\n    let isMounted = true\n    if (!apiKey) {\n      console.warn(\"Missing NEXT_PUBLIC_GOOGLE_MAPS_API_KEY\")\n      setError(\"Cl√© Google Maps absente\")\n      return\n    }\n\n    loader\n      .importLibrary(\"maps\")\n      .then(() => {\n        if (!isMounted || !mapRef.current) return\n        setError(null)\n\n        if (!mapInstance.current) {\n          mapInstance.current = new google.maps.Map(mapRef.current, {\n            center,\n            zoom: 13,\n            mapTypeControl: false,\n            streetViewControl: false,\n            fullscreenControl: false,\n          })\n        } else {\n          mapInstance.current.setCenter(center)\n        }\n\n        if (clickListener.current) {\n          clickListener.current.remove()\n          clickListener.current = null\n        }\n        if (onSelectLocation && mapInstance.current) {\n          clickListener.current = mapInstance.current.addListener(\"click\", (ev: google.maps.MapMouseEvent) => {\n            if (ev.latLng) {\n              onSelectLocation({ lat: ev.latLng.lat(), lng: ev.latLng.lng() })\n            }\n          })\n        }\n\n        markerInstances.current.forEach((m) => m.setMap(null))\n        markerInstances.current = []\n\n        markers.forEach((m) => {\n          const marker = new google.maps.Marker({\n            position: { lat: m.lat, lng: m.lng },\n            map: mapInstance.current!,\n            label: m.type === \"request\" ? \"R\" : m.type === \"sitter\" ? \"S\" : \"U\",\n          })\n          if (m.label) {\n            const info = new google.maps.InfoWindow({ content: m.label })\n            marker.addListener(\"click\", () => {\n              info.open({ map: mapInstance.current, anchor: marker })\n              onMarkerClick?.(m.id)\n            })\n          } else {\n            marker.addListener(\"click\", () => onMarkerClick?.(m.id))\n          }\n          markerInstances.current.push(marker)\n        })\n\n        if (showRadius) {\n          if (circleInstance.current) {\n            circleInstance.current.setMap(null)\n          }\n          circleInstance.current = new google.maps.Circle({\n            map: mapInstance.current,\n            center,\n            radius: radiusKm * 1000,\n            fillColor: \"#c65a3a\",\n            fillOpacity: 0.05,\n            strokeColor: \"#c65a3a\",\n            strokeOpacity: 0.3,\n            strokeWeight: 1,\n          })\n        } else if (circleInstance.current) {\n          circleInstance.current.setMap(null)\n          circleInstance.current = null\n        }\n      })\n      .catch((err) => {\n        console.error(\"Failed to load Google Maps\", err)\n        setError(\"Impossible de charger la carte\")\n      })\n\n    return () => {\n      isMounted = false\n      markerInstances.current.forEach((m) => m.setMap(null))\n      markerInstances.current = []\n      if (circleInstance.current) {\n        circleInstance.current.setMap(null)\n        circleInstance.current = null\n      }\n      if (clickListener.current) {\n        clickListener.current.remove()\n        clickListener.current = null\n      }\n    }\n  }, [apiKey, center, markers, onMarkerClick, onSelectLocation, showRadius, radiusKm, loader])\n\n  if (error) {\n    return (\n      <div\n        className={cn(\n          \"relative w-full h-full bg-secondary/50 text-muted-foreground flex items-center justify-center text-sm\",\n          className,\n        )}\n      >\n        {error}\n      </div>\n    )\n  }\n\n  return <div ref={mapRef} className={cn(\"relative w-full h-full\", className)} />\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2447, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/map/bottom-sheet.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useRef, type ReactNode } from \"react\"\nimport { cn } from \"@/lib/utils\"\nimport { GripHorizontal } from \"lucide-react\"\n\ninterface BottomSheetProps {\n  children: ReactNode\n  snapPoints?: number[]\n  defaultSnap?: number\n  className?: string\n}\n\nexport function BottomSheet({ children, snapPoints = [0.15, 0.5, 0.9], defaultSnap = 0, className }: BottomSheetProps) {\n  const [currentSnap, setCurrentSnap] = useState(defaultSnap)\n  const [isDragging, setIsDragging] = useState(false)\n  const sheetRef = useRef<HTMLDivElement>(null)\n  const startY = useRef(0)\n  const startHeight = useRef(0)\n\n  const height = `${snapPoints[currentSnap] * 100}%`\n\n  const handleDragStart = (e: React.TouchEvent | React.MouseEvent) => {\n    setIsDragging(true)\n    startY.current = \"touches\" in e ? e.touches[0].clientY : e.clientY\n    startHeight.current = snapPoints[currentSnap]\n  }\n\n  const handleDragEnd = () => {\n    setIsDragging(false)\n  }\n\n  const cycleSnap = () => {\n    setCurrentSnap((prev) => (prev + 1) % snapPoints.length)\n  }\n\n  return (\n    <div\n      ref={sheetRef}\n      className={cn(\n        \"absolute bottom-0 left-0 right-0 bg-card rounded-t-3xl shadow-2xl transition-all duration-300 ease-out z-40\",\n        isDragging && \"transition-none\",\n        className,\n      )}\n      style={{ height }}\n    >\n      {/* Drag handle */}\n      <div\n        className=\"flex justify-center pt-3 pb-2 cursor-grab active:cursor-grabbing\"\n        onTouchStart={handleDragStart}\n        onTouchEnd={handleDragEnd}\n        onMouseDown={handleDragStart}\n        onMouseUp={handleDragEnd}\n        onClick={cycleSnap}\n      >\n        <GripHorizontal className=\"w-8 h-1.5 text-muted-foreground/50\" />\n      </div>\n\n      {/* Content */}\n      <div className=\"overflow-y-auto h-[calc(100%-28px)] px-4 pb-8\">{children}</div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AANA;;;;;AAeO,SAAS,YAAY,EAAE,QAAQ,EAAE,aAAa;IAAC;IAAM;IAAK;CAAI,EAAE,cAAc,CAAC,EAAE,SAAS,EAAoB;IACnH,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,WAAW,IAAA,+MAAM,EAAiB;IACxC,MAAM,SAAS,IAAA,+MAAM,EAAC;IACtB,MAAM,cAAc,IAAA,+MAAM,EAAC;IAE3B,MAAM,SAAS,GAAG,UAAU,CAAC,YAAY,GAAG,IAAI,CAAC,CAAC;IAElD,MAAM,kBAAkB,CAAC;QACvB,cAAc;QACd,OAAO,OAAO,GAAG,aAAa,IAAI,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO,GAAG,EAAE,OAAO;QAClE,YAAY,OAAO,GAAG,UAAU,CAAC,YAAY;IAC/C;IAEA,MAAM,gBAAgB;QACpB,cAAc;IAChB;IAEA,MAAM,YAAY;QAChB,eAAe,CAAC,OAAS,CAAC,OAAO,CAAC,IAAI,WAAW,MAAM;IACzD;IAEA,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,+GACA,cAAc,mBACd;QAEF,OAAO;YAAE;QAAO;;0BAGhB,8OAAC;gBACC,WAAU;gBACV,cAAc;gBACd,YAAY;gBACZ,aAAa;gBACb,WAAW;gBACX,SAAS;0BAET,cAAA,8OAAC,4OAAc;oBAAC,WAAU;;;;;;;;;;;0BAI5B,8OAAC;gBAAI,WAAU;0BAAiD;;;;;;;;;;;;AAGtE"}},
    {"offset": {"line": 2527, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"rounded-xl border bg-card text-card-foreground shadow-sm\", className)} {...props} />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"flex flex-col space-y-1.5 p-6\", className)} {...props} />\n  ),\n)\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h3 ref={ref} className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)} {...props} />\n  ),\n)\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <p ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n  ),\n)\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n  ),\n)\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"flex items-center p-6 pt-0\", className)} {...props} />\n  ),\n)\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAAuD,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC5G,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,4DAA4D;QAAa,GAAG,KAAK;;;;;;AAEhH,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CACjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AAGvF,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAG,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,sDAAsD;QAAa,GAAG,KAAK;;;;;;AAG3G,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CACtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAE,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AAGrF,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAClC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAGlE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CACjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAAa,GAAG,KAAK;;;;;;AAGpF,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 2612, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<React.ElementRef<typeof AvatarPrimitive.Root>, React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>>(\n  ({ className, ...props }, ref) => (\n    <AvatarPrimitive.Root ref={ref} className={cn(\"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\", className)} {...props} />\n  ),\n)\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<React.ElementRef<typeof AvatarPrimitive.Image>, React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>>(\n  ({ className, ...props }, ref) => (\n    <AvatarPrimitive.Image ref={ref} className={cn(\"aspect-square h-full w-full\", className)} {...props} />\n  ),\n)\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<React.ElementRef<typeof AvatarPrimitive.Fallback>, React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>>(\n  ({ className, ...props }, ref) => (\n    <AvatarPrimitive.Fallback\n      ref={ref}\n      className={cn(\n        \"flex h-full w-full items-center justify-center rounded-full bg-muted font-medium text-muted-foreground\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n)\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,0KAAoB;QAAC,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,iEAAiE;QAAa,GAAG,KAAK;;;;;;AAGxI,OAAO,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,mNAAgB,CAClC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,2KAAqB;QAAC,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,+BAA+B;QAAa,GAAG,KAAK;;;;;;AAGvG,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,mNAAgB,CACrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,8KAAwB;QACvB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAIf,eAAe,WAAW,GAAG,8KAAwB,CAAC,WAAW"}},
    {"offset": {"line": 2664, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/ui/status-chip.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\r\nimport type { RequestStatus } from \"@/lib/types\"\r\n\r\ninterface StatusChipProps {\r\n  status: RequestStatus | \"scheduled\" | \"in-progress\"\r\n  size?: \"sm\" | \"md\"\r\n}\r\n\r\nexport function StatusChip({ status, size = \"md\" }: StatusChipProps) {\r\n  const labels: Record<string, string> = {\r\n    open: \"Ouvert\",\r\n    accepted: \"Accept√©e\",\r\n    active: \"Active\",\r\n    \"in-progress\": \"En cours\",\r\n    scheduled: \"Planifi√©e\",\r\n    completed: \"Termin√©e\",\r\n    cancelled: \"Annul√©e\",\r\n  }\r\n\r\n  const config: Record<string, { label: string; className: string }> = {\r\n    open: { label: labels.open, className: \"bg-accent/10 text-accent\" },\r\n    accepted: { label: labels.accepted, className: \"bg-primary/10 text-primary\" },\r\n    active: { label: labels.active, className: \"bg-chart-2/20 text-chart-2\" },\r\n    \"in-progress\": { label: labels[\"in-progress\"], className: \"bg-chart-2/20 text-chart-2\" },\r\n    scheduled: { label: labels.scheduled, className: \"bg-primary/10 text-primary\" },\r\n    completed: { label: labels.completed, className: \"bg-accent/10 text-accent\" },\r\n    cancelled: { label: labels.cancelled, className: \"bg-destructive/10 text-destructive\" },\r\n  }\r\n\r\n  const { label, className } = config[status] || config.open\r\n\r\n  return (\r\n    <span\r\n      className={cn(\r\n        \"inline-flex items-center rounded-full font-medium\",\r\n        size === \"sm\" ? \"text-xs px-2 py-0.5\" : \"text-sm px-2.5 py-1\",\r\n        className,\r\n      )}\r\n    >\r\n      <span\r\n        className={cn(\r\n          \"w-1.5 h-1.5 rounded-full mr-1.5\",\r\n          status === \"open\"\r\n            ? \"bg-accent\"\r\n            : status === \"active\" || status === \"in-progress\"\r\n              ? \"bg-chart-2\"\r\n              : \"bg-current\",\r\n        )}\r\n      />\r\n      {label}\r\n    </span>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAQO,SAAS,WAAW,EAAE,MAAM,EAAE,OAAO,IAAI,EAAmB;IACjE,MAAM,SAAiC;QACrC,MAAM;QACN,UAAU;QACV,QAAQ;QACR,eAAe;QACf,WAAW;QACX,WAAW;QACX,WAAW;IACb;IAEA,MAAM,SAA+D;QACnE,MAAM;YAAE,OAAO,OAAO,IAAI;YAAE,WAAW;QAA2B;QAClE,UAAU;YAAE,OAAO,OAAO,QAAQ;YAAE,WAAW;QAA6B;QAC5E,QAAQ;YAAE,OAAO,OAAO,MAAM;YAAE,WAAW;QAA6B;QACxE,eAAe;YAAE,OAAO,MAAM,CAAC,cAAc;YAAE,WAAW;QAA6B;QACvF,WAAW;YAAE,OAAO,OAAO,SAAS;YAAE,WAAW;QAA6B;QAC9E,WAAW;YAAE,OAAO,OAAO,SAAS;YAAE,WAAW;QAA2B;QAC5E,WAAW;YAAE,OAAO,OAAO,SAAS;YAAE,WAAW;QAAqC;IACxF;IAEA,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,MAAM,CAAC,OAAO,IAAI,OAAO,IAAI;IAE1D,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,qDACA,SAAS,OAAO,wBAAwB,uBACxC;;0BAGF,8OAAC;gBACC,WAAW,IAAA,kHAAE,EACX,mCACA,WAAW,SACP,cACA,WAAW,YAAY,WAAW,gBAChC,eACA;;;;;;YAGT;;;;;;;AAGP"}},
    {"offset": {"line": 2735, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/ui/service-icon.tsx"],"sourcesContent":["import { Home, Footprints, Car, AlertTriangle } from \"lucide-react\"\nimport type { ServiceType } from \"@/lib/types\"\nimport { cn } from \"@/lib/utils\"\n\ninterface ServiceIconProps {\n  type: ServiceType | string\n  size?: number\n  className?: string\n}\n\nexport function ServiceIcon({ type, size = 20, className }: ServiceIconProps) {\n  const icons: Record<ServiceType, any> = {\n    sitting: Home,\n    walking: Footprints,\n    taxi: Car,\n    emergency: AlertTriangle,\n  }\n\n  const iconKey: ServiceType = ([\"sitting\", \"walking\", \"taxi\", \"emergency\"] as const).includes(type as ServiceType)\n    ? (type as ServiceType)\n    : \"sitting\"\n  const Icon = icons[iconKey] || Home\n  return <Icon size={size} className={cn(className)} />\n}\n\nexport function getServiceLabel(type: ServiceType, _lang: string = \"fr\"): string {\n  const labels: Record<ServiceType, string> = {\n    sitting: \"Garde √† domicile\",\n    walking: \"Promenade\",\n    taxi: \"Taxi animaux\",\n    emergency: \"Urgence\",\n  }\n  return labels[type] ?? \"Service\"\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAEA;;;;AAQO,SAAS,YAAY,EAAE,IAAI,EAAE,OAAO,EAAE,EAAE,SAAS,EAAoB;IAC1E,MAAM,QAAkC;QACtC,SAAS,2MAAI;QACb,SAAS,4NAAU;QACnB,MAAM,uMAAG;QACT,WAAW,yOAAa;IAC1B;IAEA,MAAM,UAAuB,AAAC;QAAC;QAAW;QAAW;QAAQ;KAAY,CAAW,QAAQ,CAAC,QACxF,OACD;IACJ,MAAM,OAAO,KAAK,CAAC,QAAQ,IAAI,2MAAI;IACnC,qBAAO,8OAAC;QAAK,MAAM;QAAM,WAAW,IAAA,kHAAE,EAAC;;;;;;AACzC;AAEO,SAAS,gBAAgB,IAAiB,EAAE,QAAgB,IAAI;IACrE,MAAM,SAAsC;QAC1C,SAAS;QACT,SAAS;QACT,MAAM;QACN,WAAW;IACb;IACA,OAAO,MAAM,CAAC,KAAK,IAAI;AACzB"}},
    {"offset": {"line": 2786, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/cards/request-card.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { StatusChip } from \"@/components/ui/status-chip\"\nimport { ServiceIcon, getServiceLabel } from \"@/components/ui/service-icon\"\nimport { useI18n } from \"@/lib/i18n\"\nimport type { ServiceRequest } from \"@/lib/types\"\nimport { MapPin, Calendar, DollarSign } from \"lucide-react\"\nimport { formatDistanceToNow } from \"date-fns\"\n\ninterface RequestCardProps {\n  request: ServiceRequest\n  onClick?: () => void\n  compact?: boolean\n}\n\nexport function RequestCard({ request, onClick, compact = false }: RequestCardProps) {\n  const { lang } = useI18n()\n  const petName = request.petName || (request as any)?.pet?.name || \"Animal\"\n  const rawType = request.petType || (request as any)?.pet?.type || (request as any)?.pet?.species\n  const petType = rawType ? ` - ${rawType}` : \"\"\n  const address = typeof request.location === \"string\" ? request.location : request.location?.address || \"Localisation inconnue\"\n\n  return (\n    <Card className={`cursor-pointer hover:shadow-md transition-shadow ${compact ? \"p-2\" : \"\"}`} onClick={onClick}>\n      <CardContent className={compact ? \"p-2\" : \"p-4\"}>\n        <div className=\"flex items-start gap-3\">\n          <div className=\"relative\">\n            <Avatar className={compact ? \"h-12 w-12\" : \"h-16 w-16\"}>\n              <AvatarImage src={request.petImage || \"/petAvatar.png\"} alt={petName} />\n              <AvatarFallback>{petName[0]}</AvatarFallback>\n            </Avatar>\n            <div className=\"absolute -bottom-1 -right-1 w-6 h-6 bg-card rounded-full flex items-center justify-center shadow-sm\">\n              <ServiceIcon type={request.serviceType} size={14} className=\"text-primary\" />\n            </div>\n          </div>\n\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center justify-between gap-2 mb-1\">\n              <h3 className=\"font-semibold text-foreground truncate\">\n                {petName}\n                {petType}\n              </h3>\n              <StatusChip status={request.status} size=\"sm\" lang={lang} />\n            </div>\n\n            <p className=\"text-sm text-muted-foreground mb-2\">\n              {getServiceLabel(request.serviceType, lang)} ‚Ä¢ {petName}\n              {request.petType ? ` (${request.petType})` : \"\"}\n            </p>\n\n            {!compact && (\n              <>\n                <div className=\"flex items-center gap-1 text-sm text-muted-foreground mb-1\">\n                  <MapPin size={14} />\n                  <span className=\"truncate\">{address}</span>\n                </div>\n\n                <div className=\"flex items-center gap-1 text-sm text-muted-foreground mb-2\">\n                  <Calendar size={14} />\n                  <span>{request.dateStart ? new Date(request.dateStart).toLocaleDateString() : \"\"}</span>\n                </div>\n              </>\n            )}\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-1 font-semibold text-accent\">\n                <DollarSign size={16} />\n                <span>{request.offeredPrice} TND</span>\n              </div>\n\n              <span className=\"text-xs text-muted-foreground\">\n                {request.createdAt ? formatDistanceToNow(new Date(request.createdAt), { addSuffix: true }) : \"\"}\n              </span>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AATA;;;;;;;;;AAiBO,SAAS,YAAY,EAAE,OAAO,EAAE,OAAO,EAAE,UAAU,KAAK,EAAoB;IACjF,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,uHAAO;IACxB,MAAM,UAAU,QAAQ,OAAO,IAAK,SAAiB,KAAK,QAAQ;IAClE,MAAM,UAAU,QAAQ,OAAO,IAAK,SAAiB,KAAK,QAAS,SAAiB,KAAK;IACzF,MAAM,UAAU,UAAU,CAAC,GAAG,EAAE,SAAS,GAAG;IAC5C,MAAM,UAAU,OAAO,QAAQ,QAAQ,KAAK,WAAW,QAAQ,QAAQ,GAAG,QAAQ,QAAQ,EAAE,WAAW;IAEvG,qBACE,8OAAC,iIAAI;QAAC,WAAW,CAAC,iDAAiD,EAAE,UAAU,QAAQ,IAAI;QAAE,SAAS;kBACpG,cAAA,8OAAC,wIAAW;YAAC,WAAW,UAAU,QAAQ;sBACxC,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,qIAAM;gCAAC,WAAW,UAAU,cAAc;;kDACzC,8OAAC,0IAAW;wCAAC,KAAK,QAAQ,QAAQ,IAAI;wCAAkB,KAAK;;;;;;kDAC7D,8OAAC,6IAAc;kDAAE,OAAO,CAAC,EAAE;;;;;;;;;;;;0CAE7B,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,mJAAW;oCAAC,MAAM,QAAQ,WAAW;oCAAE,MAAM;oCAAI,WAAU;;;;;;;;;;;;;;;;;kCAIhE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;;4CACX;4CACA;;;;;;;kDAEH,8OAAC,iJAAU;wCAAC,QAAQ,QAAQ,MAAM;wCAAE,MAAK;wCAAK,MAAM;;;;;;;;;;;;0CAGtD,8OAAC;gCAAE,WAAU;;oCACV,IAAA,uJAAe,EAAC,QAAQ,WAAW,EAAE;oCAAM;oCAAI;oCAC/C,QAAQ,OAAO,GAAG,CAAC,EAAE,EAAE,QAAQ,OAAO,CAAC,CAAC,CAAC,GAAG;;;;;;;4BAG9C,CAAC,yBACA;;kDACE,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,oNAAM;gDAAC,MAAM;;;;;;0DACd,8OAAC;gDAAK,WAAU;0DAAY;;;;;;;;;;;;kDAG9B,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,sNAAQ;gDAAC,MAAM;;;;;;0DAChB,8OAAC;0DAAM,QAAQ,SAAS,GAAG,IAAI,KAAK,QAAQ,SAAS,EAAE,kBAAkB,KAAK;;;;;;;;;;;;;;0CAKpF,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,gOAAU;gDAAC,MAAM;;;;;;0DAClB,8OAAC;;oDAAM,QAAQ,YAAY;oDAAC;;;;;;;;;;;;;kDAG9B,8OAAC;wCAAK,WAAU;kDACb,QAAQ,SAAS,GAAG,IAAA,yKAAmB,EAAC,IAAI,KAAK,QAAQ,SAAS,GAAG;4CAAE,WAAW;wCAAK,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ7G"}},
    {"offset": {"line": 3040, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/ui/trust-badge.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\nimport { Shield, ShieldCheck, ShieldAlert } from \"lucide-react\"\n\ninterface TrustBadgeProps {\n  score?: number\n  reviewCount?: number\n  size?: \"sm\" | \"md\" | \"lg\"\n  showLabel?: boolean\n}\n\nexport function TrustBadge({ score, reviewCount, size = \"md\", showLabel = true }: TrustBadgeProps) {\n  const numericScore = Number.isFinite(score) ? (score as number) : 0\n  const level = numericScore >= 4.5 ? \"high\" : numericScore >= 3.5 ? \"medium\" : \"low\"\n\n  const config = {\n    high: { icon: ShieldCheck, label: \"Trusted\", color: \"text-accent bg-accent/10\" },\n    medium: { icon: Shield, label: \"Verified\", color: \"text-primary bg-primary/10\" },\n    low: { icon: ShieldAlert, label: \"New\", color: \"text-muted-foreground bg-muted\" },\n  }\n\n  const { icon: Icon, label, color } = config[level]\n\n  const sizeClasses = {\n    sm: \"text-xs px-1.5 py-0.5 gap-1\",\n    md: \"text-sm px-2 py-1 gap-1.5\",\n    lg: \"text-base px-3 py-1.5 gap-2\",\n  }\n\n  const iconSizes = { sm: 12, md: 14, lg: 18 }\n\n  return (\n    <div className={cn(\"inline-flex items-center rounded-full font-medium\", color, sizeClasses[size])}>\n      <Icon size={iconSizes[size]} />\n      {showLabel && <span>{label}</span>}\n      <span className=\"font-semibold\">{numericScore.toFixed(1)}</span>\n      {reviewCount !== undefined && <span className=\"text-muted-foreground\">({reviewCount})</span>}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;;;;AASO,SAAS,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO,IAAI,EAAE,YAAY,IAAI,EAAmB;IAC/F,MAAM,eAAe,OAAO,QAAQ,CAAC,SAAU,QAAmB;IAClE,MAAM,QAAQ,gBAAgB,MAAM,SAAS,gBAAgB,MAAM,WAAW;IAE9E,MAAM,SAAS;QACb,MAAM;YAAE,MAAM,mOAAW;YAAE,OAAO;YAAW,OAAO;QAA2B;QAC/E,QAAQ;YAAE,MAAM,gNAAM;YAAE,OAAO;YAAY,OAAO;QAA6B;QAC/E,KAAK;YAAE,MAAM,mOAAW;YAAE,OAAO;YAAO,OAAO;QAAiC;IAClF;IAEA,MAAM,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,CAAC,MAAM;IAElD,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,YAAY;QAAE,IAAI;QAAI,IAAI;QAAI,IAAI;IAAG;IAE3C,qBACE,8OAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,qDAAqD,OAAO,WAAW,CAAC,KAAK;;0BAC9F,8OAAC;gBAAK,MAAM,SAAS,CAAC,KAAK;;;;;;YAC1B,2BAAa,8OAAC;0BAAM;;;;;;0BACrB,8OAAC;gBAAK,WAAU;0BAAiB,aAAa,OAAO,CAAC;;;;;;YACrD,gBAAgB,2BAAa,8OAAC;gBAAK,WAAU;;oBAAwB;oBAAE;oBAAY;;;;;;;;;;;;;AAG1F"}},
    {"offset": {"line": 3131, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/cards/offer-card.tsx"],"sourcesContent":["\n\"use client\"\n\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { Button } from \"@/components/ui/button\"\nimport { TrustBadge } from \"@/components/ui/trust-badge\"\nimport type { SitterOffer } from \"@/lib/types\"\nimport { MapPin, DollarSign, MessageCircle } from \"lucide-react\"\n\ninterface OfferCardProps {\n  offer: SitterOffer\n  onAccept?: () => void\n  onReject?: () => void\n  locationLabel?: string\n}\n\nexport function OfferCard({ offer, onAccept, onReject, locationLabel }: OfferCardProps) {\n  const sitterName = offer.sitterName || \"Garde\"\n  const sitterInitial = sitterName ? sitterName[0] : \"?\"\n  const distanceLabel =\n    typeof offer.distance === \"number\" && Number.isFinite(offer.distance) ? `${offer.distance.toFixed(1)} km` : null\n  const priceLabel =\n    typeof offer.offeredPrice === \"number\" && Number.isFinite(offer.offeredPrice)\n      ? `${offer.offeredPrice} TND`\n      : \"-\"\n  const locationText = locationLabel || distanceLabel || \"Localisation inconnue\"\n\n  return (\n    <Card className=\"overflow-hidden\">\n      <CardContent className=\"p-4\">\n        <div className=\"flex items-start gap-3\">\n          {/* Sitter Avatar */}\n          <Avatar className=\"h-14 w-14\">\n            <AvatarImage src={offer.sitterAvatar || \"/sitterAvatar.png\"} alt={sitterName} />\n            <AvatarFallback>{sitterInitial}</AvatarFallback>\n          </Avatar>\n\n          {/* Details */}\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center justify-between gap-2 mb-1\">\n              <h3 className=\"font-semibold text-foreground\">{sitterName}</h3>\n              <TrustBadge score={offer.sitterTrustScore} reviewCount={offer.sitterReviewCount} size=\"sm\" />\n            </div>\n\n            <div className=\"flex items-center gap-3 text-sm text-muted-foreground mb-2\">\n              <div className=\"flex items-center gap-1\">\n                <MapPin size={14} />\n                <span>{locationText}</span>\n              </div>\n              <div className=\"flex items-center gap-1 font-semibold text-accent\">\n                <DollarSign size={14} />\n                <span>{priceLabel}</span>\n              </div>\n            </div>\n\n            {offer.message && (\n              <div className=\"flex items-start gap-2 text-sm text-muted-foreground bg-secondary rounded-lg p-2 mb-3\">\n                <MessageCircle size={14} className=\"mt-0.5 flex-shrink-0\" />\n                <p className=\"line-clamp-2\">{offer.message}</p>\n              </div>\n            )}\n\n            {/* Actions */}\n            <div className=\"flex gap-2\">\n              <Button variant=\"outline\" size=\"sm\" className=\"flex-1 bg-transparent\" onClick={onReject}>\n                Decline\n              </Button>\n              <Button\n                size=\"sm\"\n                className=\"flex-1 bg-accent hover:bg-accent/90 text-accent-foreground\"\n                onClick={onAccept}\n              >\n                Accept\n              </Button>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAPA;;;;;;;AAgBO,SAAS,UAAU,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,aAAa,EAAkB;IACpF,MAAM,aAAa,MAAM,UAAU,IAAI;IACvC,MAAM,gBAAgB,uCAAa,UAAU,CAAC,EAAE,GAAG;IACnD,MAAM,gBACJ,OAAO,MAAM,QAAQ,KAAK,YAAY,OAAO,QAAQ,CAAC,MAAM,QAAQ,IAAI,GAAG,MAAM,QAAQ,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC,GAAG;IAC9G,MAAM,aACJ,OAAO,MAAM,YAAY,KAAK,YAAY,OAAO,QAAQ,CAAC,MAAM,YAAY,IACxE,GAAG,MAAM,YAAY,CAAC,IAAI,CAAC,GAC3B;IACN,MAAM,eAAe,iBAAiB,iBAAiB;IAEvD,qBACE,8OAAC,iIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC,wIAAW;YAAC,WAAU;sBACrB,cAAA,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC,qIAAM;wBAAC,WAAU;;0CAChB,8OAAC,0IAAW;gCAAC,KAAK,MAAM,YAAY,IAAI;gCAAqB,KAAK;;;;;;0CAClE,8OAAC,6IAAc;0CAAE;;;;;;;;;;;;kCAInB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAiC;;;;;;kDAC/C,8OAAC,iJAAU;wCAAC,OAAO,MAAM,gBAAgB;wCAAE,aAAa,MAAM,iBAAiB;wCAAE,MAAK;;;;;;;;;;;;0CAGxF,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,oNAAM;gDAAC,MAAM;;;;;;0DACd,8OAAC;0DAAM;;;;;;;;;;;;kDAET,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,gOAAU;gDAAC,MAAM;;;;;;0DAClB,8OAAC;0DAAM;;;;;;;;;;;;;;;;;;4BAIV,MAAM,OAAO,kBACZ,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,yOAAa;wCAAC,MAAM;wCAAI,WAAU;;;;;;kDACnC,8OAAC;wCAAE,WAAU;kDAAgB,MAAM,OAAO;;;;;;;;;;;;0CAK9C,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,qIAAM;wCAAC,SAAQ;wCAAU,MAAK;wCAAK,WAAU;wCAAwB,SAAS;kDAAU;;;;;;kDAGzF,8OAAC,qIAAM;wCACL,MAAK;wCACL,WAAU;wCACV,SAAS;kDACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf"}},
    {"offset": {"line": 3353, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/ui/textarea.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAOA,MAAM,yBAAW,mNAAgB,CAAqC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC9F,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 3381, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/ui/slider.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\"relative flex w-full touch-none select-none items-center\", className)}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,uBAAS,mNAAgB,CAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,4DAA4D;QACzE,GAAG,KAAK;;0BAET,8OAAC,2KAAqB;gBAAC,WAAU;0BAC/B,cAAA,8OAAC,2KAAqB;oBAAC,WAAU;;;;;;;;;;;0BAEnC,8OAAC,2KAAqB;gBAAC,WAAU;;;;;;;;;;;;AAGrC,OAAO,WAAW,GAAG,0KAAoB,CAAC,WAAW"}},
    {"offset": {"line": 3432, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/lib/api-client.ts"],"sourcesContent":["// lib/api-client.ts\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL || \"/api\" // Next proxy rewrites /api/* to your Flask backend\n\nfunction getToken() {\n  if (typeof localStorage === \"undefined\") return null;\n  return localStorage.getItem(\"access_token\");\n}\n\nexport async function apiFetch(path: string, options: RequestInit = {}) {\n  const token = getToken();\n  const headers = new Headers(options.headers || {});\n  headers.set(\"Content-Type\", \"application/json\");\n  // Do not send auth only on public auth routes; other /auth routes (e.g. /auth/me) need the token\n  const isPublicAuth =\n    path.startsWith(\"/auth/login\") ||\n    path.startsWith(\"/auth/register\") ||\n    path.startsWith(\"/auth/verify-email\") ||\n    path.startsWith(\"/auth/resend-verification\");\n  if (token && !isPublicAuth) headers.set(\"Authorization\", `Bearer ${token}`);\n\n  const res = await fetch(`${API_BASE}${path}`, {\n    ...options,\n    headers,\n    credentials: \"omit\", // we rely on Bearer token, no cookies\n  });\n\n  if (!res.ok) {\n    const text = await res.text();\n    let parsed: any = null;\n    try {\n      parsed = JSON.parse(text);\n    } catch {\n      parsed = null;\n    }\n    const err: any = new Error(parsed?.message || text || `API error ${res.status}`);\n    err.status = res.status;\n    err.data = parsed;\n    throw err;\n  }\n  return res;\n}\n"],"names":[],"mappings":"AAAA,oBAAoB;;;;;AACpB,MAAM,WAAW,6DAAwC,OAAO,mDAAmD;;AAEnH,SAAS;IACP,IAAI,OAAO,iBAAiB,aAAa,OAAO;IAChD,OAAO,aAAa,OAAO,CAAC;AAC9B;AAEO,eAAe,SAAS,IAAY,EAAE,UAAuB,CAAC,CAAC;IACpE,MAAM,QAAQ;IACd,MAAM,UAAU,IAAI,QAAQ,QAAQ,OAAO,IAAI,CAAC;IAChD,QAAQ,GAAG,CAAC,gBAAgB;IAC5B,iGAAiG;IACjG,MAAM,eACJ,KAAK,UAAU,CAAC,kBAChB,KAAK,UAAU,CAAC,qBAChB,KAAK,UAAU,CAAC,yBAChB,KAAK,UAAU,CAAC;IAClB,IAAI,SAAS,CAAC,cAAc,QAAQ,GAAG,CAAC,iBAAiB,CAAC,OAAO,EAAE,OAAO;IAE1E,MAAM,MAAM,MAAM,MAAM,GAAG,WAAW,MAAM,EAAE;QAC5C,GAAG,OAAO;QACV;QACA,aAAa;IACf;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,IAAI,SAAc;QAClB,IAAI;YACF,SAAS,KAAK,KAAK,CAAC;QACtB,EAAE,OAAM;YACN,SAAS;QACX;QACA,MAAM,MAAW,IAAI,MAAM,QAAQ,WAAW,QAAQ,CAAC,UAAU,EAAE,IAAI,MAAM,EAAE;QAC/E,IAAI,MAAM,GAAG,IAAI,MAAM;QACvB,IAAI,IAAI,GAAG;QACX,MAAM;IACR;IACA,OAAO;AACT"}},
    {"offset": {"line": 3474, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/lib/location.ts"],"sourcesContent":["import type { ServiceRequest } from \"@/lib/types\"\n\nexport type LocationParsed = { lat: number; lng: number; address?: string }\n\nexport function parseLocation(raw: ServiceRequest[\"location\"]): LocationParsed | null {\n  if (!raw) return null\n  // Already structured\n  if (typeof raw === \"object\") {\n    if (typeof raw.lat === \"number\" && typeof raw.lng === \"number\") {\n      return { lat: raw.lat, lng: raw.lng, address: raw.address }\n    }\n  }\n  if (typeof raw === \"string\") {\n    // try JSON\n    try {\n      const parsed = JSON.parse(raw)\n      if (parsed && typeof parsed.lat === \"number\" && typeof parsed.lng === \"number\") {\n        return { lat: parsed.lat, lng: parsed.lng, address: parsed.address }\n      }\n    } catch {\n      /* ignore */\n    }\n    // try \"lat,lng\" format\n    const parts = raw.split(\",\").map((p) => p.trim())\n    if (parts.length >= 2) {\n      const lat = Number(parts[0])\n      const lng = Number(parts[1])\n      if (!Number.isNaN(lat) && !Number.isNaN(lng)) {\n        const address = parts.slice(2).join(\", \").trim() || undefined\n        return { lat, lng, address }\n      }\n    }\n  }\n  return null\n}\n"],"names":[],"mappings":";;;;AAIO,SAAS,cAAc,GAA+B;IAC3D,IAAI,CAAC,KAAK,OAAO;IACjB,qBAAqB;IACrB,IAAI,OAAO,QAAQ,UAAU;QAC3B,IAAI,OAAO,IAAI,GAAG,KAAK,YAAY,OAAO,IAAI,GAAG,KAAK,UAAU;YAC9D,OAAO;gBAAE,KAAK,IAAI,GAAG;gBAAE,KAAK,IAAI,GAAG;gBAAE,SAAS,IAAI,OAAO;YAAC;QAC5D;IACF;IACA,IAAI,OAAO,QAAQ,UAAU;QAC3B,WAAW;QACX,IAAI;YACF,MAAM,SAAS,KAAK,KAAK,CAAC;YAC1B,IAAI,UAAU,OAAO,OAAO,GAAG,KAAK,YAAY,OAAO,OAAO,GAAG,KAAK,UAAU;gBAC9E,OAAO;oBAAE,KAAK,OAAO,GAAG;oBAAE,KAAK,OAAO,GAAG;oBAAE,SAAS,OAAO,OAAO;gBAAC;YACrE;QACF,EAAE,OAAM;QACN,UAAU,GACZ;QACA,uBAAuB;QACvB,MAAM,QAAQ,IAAI,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI;QAC9C,IAAI,MAAM,MAAM,IAAI,GAAG;YACrB,MAAM,MAAM,OAAO,KAAK,CAAC,EAAE;YAC3B,MAAM,MAAM,OAAO,KAAK,CAAC,EAAE;YAC3B,IAAI,CAAC,OAAO,KAAK,CAAC,QAAQ,CAAC,OAAO,KAAK,CAAC,MAAM;gBAC5C,MAAM,UAAU,MAAM,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM,IAAI,MAAM;gBACpD,OAAO;oBAAE;oBAAK;oBAAK;gBAAQ;YAC7B;QACF;IACF;IACA,OAAO;AACT"}},
    {"offset": {"line": 3524, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/lib/api.ts"],"sourcesContent":["import { apiFetch } from \"@/lib/api-client\"\nimport type { ServiceRequest, SitterProfile, Pet, Booking, SitterOffer, ServiceType } from \"@/lib/types\"\nimport { parseLocation } from \"@/lib/location\"\n\nfunction mapOffer(raw: any): SitterOffer {\n  return {\n    id: String(raw.id),\n    requestId: String(raw.request_id ?? raw.requestId ?? \"\"),\n    sitterId: String(raw.sitter_id ?? raw.sitterId ?? \"\"),\n    sitterName: raw.sitter_name || raw.sitterName || \"Garde\",\n    sitterAvatar: raw.sitter_avatar || raw.sitterAvatar,\n    sitterTrustScore: Number(raw.sitter_trust_score ?? raw.sitterTrustScore ?? 0),\n    sitterReviewCount: Number(raw.sitter_review_count ?? raw.sitterReviewCount ?? 0),\n    offeredPrice: Number(raw.offered_price ?? raw.offeredPrice ?? 0),\n    message: raw.message,\n    distance: Number(raw.distance ?? raw.distance_km ?? 0),\n    status: raw.status || \"pending\",\n    createdAt: raw.created_at || raw.createdAt || new Date().toISOString(),\n  }\n}\n\nfunction mapBooking(raw: any): Booking {\n  const loc = parseLocation(raw.location) || { lat: 36.8065, lng: 10.1815, address: \"Tunis, Tunisia\" }\n  return {\n    id: String(raw.id),\n    requestId: String(raw.request_id ?? raw.requestId ?? \"\"),\n    offerId: String(raw.offer_id ?? raw.offerId ?? \"\"),\n    ownerId: String(raw.owner_id ?? raw.ownerId ?? \"\"),\n    sitterId: String(raw.sitter_id ?? raw.sitterId ?? \"\"),\n    sitterName: raw.sitter_name || raw.sitterName || \"Sitter\",\n    sitterAvatar: raw.sitter_avatar || raw.sitterAvatar,\n    petName: raw.pet_name || raw.petName || \"Animal\",\n    petType: raw.pet_type || raw.petType || \"pet\",\n    serviceType: normalizeServiceType(raw.service_type ?? raw.serviceType ?? raw.service_type_id),\n    location: {\n      lat: loc.lat,\n      lng: loc.lng,\n      address: loc.address || raw.location || \"Localisation inconnue\",\n    },\n    dateStart: raw.date_start || raw.dateStart || \"\",\n    dateEnd: raw.date_end || raw.dateEnd || \"\",\n    price: Number(raw.price ?? raw.agreed_price ?? raw.requested_price ?? 0),\n    status: raw.status || \"scheduled\",\n    updates: Array.isArray(raw.updates)\n      ? raw.updates.map((u: any) => ({\n          id: String(u.id ?? Math.random()),\n          createdAt: u.created_at || u.timestamp || new Date().toISOString(),\n          type: (u.type as any) || \"note\",\n          content: u.content ?? u.message ?? \"\",\n          photoUrl: u.photo_url ?? u.photoUrl,\n        }))\n      : [],\n  }\n}\n\nfunction normalizeServiceType(value: any): ServiceType {\n  if (typeof value === \"string\") {\n    const lower = value.toLowerCase()\n    if (lower.includes(\"walk\")) return \"walking\"\n    if (lower.includes(\"taxi\")) return \"taxi\"\n    if (lower.includes(\"emerg\")) return \"emergency\"\n    return \"sitting\"\n  }\n  if (typeof value === \"number\") {\n    if (value === 2) return \"walking\"\n    if (value === 3) return \"taxi\"\n    if (value === 4) return \"emergency\"\n    return \"sitting\"\n  }\n  return \"sitting\"\n}\n\nfunction mapRequest(raw: any): ServiceRequest {\n  return {\n    id: String(raw.id),\n    ownerId: String(raw.owner_id ?? \"\"),\n    ownerName: raw.owner_name || raw.ownerName || \"\",\n    ownerAvatar: raw.owner_avatar || raw.ownerAvatar,\n    petId: String(raw.pet_id ?? raw.petId ?? \"\"),\n    petName: raw.pet_name || raw.petName || \"\",\n    petType: raw.pet_type || raw.petType || \"\",\n    petImage: raw.pet_image || raw.petImage,\n    serviceType: normalizeServiceType(raw.service_type ?? raw.serviceType ?? raw.service_type_id),\n    location: parseLocation(raw.location) || { lat: 36.8065, lng: 10.1815, address: raw.location },\n    dateStart: raw.date_start || raw.dateStart || \"\",\n    dateEnd: raw.date_end || raw.dateEnd || \"\",\n    offeredPrice: Number(raw.requested_price ?? raw.offeredPrice ?? 0),\n    status: raw.status || \"open\",\n    createdAt: raw.created_at || raw.createdAt || new Date().toISOString(),\n    description: raw.description,\n  }\n}\n\nexport async function fetchOpenRequests(): Promise<ServiceRequest[]> {\n  const res = await apiFetch(\"/requests/open\", { method: \"GET\" })\n  const data = await res.json()\n  return Array.isArray(data) ? data.map(mapRequest) : []\n}\n\nexport async function fetchServiceTypes(): Promise<Array<{ id: number; name: string; min_price: number; description?: string }>> {\n  const res = await apiFetch(\"/requests/types\", { method: \"GET\" })\n  return await res.json()\n}\n\nexport async function fetchMyRequests(): Promise<ServiceRequest[]> {\n  const res = await apiFetch(\"/requests/my\", { method: \"GET\" })\n  const data = await res.json()\n  return Array.isArray(data) ? data.map(mapRequest) : []\n}\n\nexport async function fetchRequestById(requestId: string | number): Promise<ServiceRequest> {\n  const res = await apiFetch(`/requests/${requestId}`, { method: \"GET\" })\n  return mapRequest(await res.json())\n}\n\nexport async function cancelRequest(requestId: string | number): Promise<ServiceRequest> {\n  const res = await apiFetch(`/requests/${requestId}/cancel`, { method: \"PUT\" })\n  return mapRequest(await res.json())\n}\n\nexport async function createServiceRequest(payload: {\n  petId: number | string\n  serviceTypeId: number | string\n  requestedPrice: number\n  location: { lat: number; lng: number; address?: string }\n}) {\n  const body = {\n    pet_id: payload.petId,\n    service_type_id: payload.serviceTypeId,\n    requested_price: payload.requestedPrice,\n    location: JSON.stringify(payload.location),\n  }\n  const res = await apiFetch(\"/requests\", {\n    method: \"POST\",\n    body: JSON.stringify(body),\n  })\n  return mapRequest(await res.json())\n}\n\nexport async function fetchSitters(): Promise<SitterProfile[]> {\n  const res = await apiFetch(\"/sitters\", { method: \"GET\" })\n  const data = await res.json()\n  return Array.isArray(data)\n    ? data.map((s) => ({\n        id: String(s.id),\n        sitterId: String(s.sitter_id ?? s.sitterId ?? s.id),\n        name: s.name || s.full_name || \"Sitter\",\n        avatar: s.avatar,\n        trustScore: s.trust_score ?? s.trustScore,\n        reviewCount: s.review_count ?? s.reviewCount,\n        city: s.city,\n        isAvailable: s.is_available ?? s.isAvailable,\n        lat: s.lat,\n        lng: s.lng,\n        servicesOffered: s.services_offered ?? s.servicesOffered,\n        bio: s.bio,\n      }))\n    : []\n}\n\nexport async function fetchSitterProfile(): Promise<SitterProfile> {\n  const res = await apiFetch(\"/sitters/me\", { method: \"GET\" })\n  return await res.json()\n}\n\nexport async function fetchSitterReviews(sitterId: string | number): Promise<any[]> {\n  const res = await apiFetch(`/sitters/${sitterId}/reviews`, { method: \"GET\" })\n  return await res.json()\n}\n\nexport async function updateSitterProfile(payload: Partial<SitterProfile>): Promise<SitterProfile> {\n  const res = await apiFetch(\"/sitters/me\", {\n    method: \"PUT\",\n    body: JSON.stringify(payload),\n  })\n  return await res.json()\n}\n\nexport async function fetchPets(): Promise<Pet[]> {\n  const res = await apiFetch(\"/pets/\", { method: \"GET\" })\n  return await res.json()\n}\n\nexport async function createPet(payload: Partial<Pet>): Promise<Pet> {\n  const res = await apiFetch(\"/pets/\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      name: payload.name,\n      species: (payload as any).species || (payload as any).type || payload.type,\n      breed: payload.breed,\n      age: payload.age,\n      temperament: (payload as any).temperament,\n      medical_notes: (payload as any).medical_notes,\n    }),\n  })\n  return await res.json()\n}\n\nexport async function updatePet(petId: string | number, payload: Partial<Pet>): Promise<Pet> {\n  const res = await apiFetch(`/pets/${petId}`, {\n    method: \"PUT\",\n    body: JSON.stringify(payload),\n  })\n  return await res.json()\n}\n\nexport async function deletePet(petId: string | number): Promise<void> {\n  await apiFetch(`/pets/${petId}`, { method: \"DELETE\" })\n}\n\nexport async function fetchOffersByRequest(requestId: string | number): Promise<SitterOffer[]> {\n  const res = await apiFetch(`/requests/${requestId}/offers`, { method: \"GET\" })\n  const data = await res.json()\n  return Array.isArray(data) ? data.map(mapOffer) : []\n}\n\nexport async function createOffer(requestId: string | number, payload: { price: number; message?: string }) {\n  const res = await apiFetch(`/requests/${requestId}/offers`, {\n    method: \"POST\",\n    body: JSON.stringify({ offered_price: payload.price, message: payload.message }),\n  })\n  return await res.json()\n}\n\nexport async function acceptOffer(offerId: string | number) {\n  const res = await apiFetch(`/offers/${offerId}/accept`, { method: \"PUT\" })\n  return await res.json()\n}\n\nexport async function rejectOffer(offerId: string | number) {\n  const res = await apiFetch(`/offers/${offerId}/reject`, { method: \"PUT\" })\n  return await res.json()\n}\n\nexport async function fetchBookings(): Promise<Booking[]> {\n  const res = await apiFetch(\"/bookings/my\", { method: \"GET\" })\n  const data = await res.json()\n  return Array.isArray(data) ? data.map(mapBooking) : []\n}\n\nexport async function fetchBookingById(id: string | number): Promise<Booking> {\n  const res = await apiFetch(`/bookings/${id}`, { method: \"GET\" })\n  return mapBooking(await res.json())\n}\n\nexport async function completeBooking(id: string | number): Promise<Booking> {\n  const res = await apiFetch(`/bookings/${id}/complete`, { method: \"PUT\" })\n  return mapBooking(await res.json())\n}\n\nexport async function fetchBookingUpdates(bookingId: string | number) {\n  const res = await apiFetch(`/bookings/${bookingId}/updates`, { method: \"GET\" })\n  const data = await res.json()\n  return Array.isArray(data)\n    ? data.map((u: any) => ({\n        id: String(u.id ?? Math.random()),\n        createdAt: u.created_at || u.timestamp || new Date().toISOString(),\n        type: (u.type as any) || \"note\",\n        content: u.content ?? \"\",\n        photoUrl: u.photo_url ?? u.photoUrl,\n      }))\n    : []\n}\n\nexport async function createBookingUpdate(\n  bookingId: string | number,\n  payload: { type: string; content?: string; photoUrl?: string },\n) {\n  const body = {\n    type: payload.type,\n    content: payload.content,\n    photo_url: payload.photoUrl,\n  }\n  const res = await apiFetch(`/bookings/${bookingId}/updates`, {\n    method: \"POST\",\n    body: JSON.stringify(body),\n  })\n  return res.json()\n}\n\nexport async function uploadBookingUpdatePhoto(bookingId: string | number, file: File) {\n  const form = new FormData()\n  form.append(\"file\", file)\n  const res = await apiFetch(`/bookings/${bookingId}/updates/photo`, {\n    method: \"POST\",\n    body: form as any,\n  })\n  return res.json()\n}\n\nexport async function sendReview(\n  bookingId: string | number,\n  payload: { rating: number; comment?: string },\n): Promise<any> {\n  const res = await apiFetch(`/bookings/${bookingId}/review`, {\n    method: \"POST\",\n    body: JSON.stringify(payload),\n  })\n  return await res.json()\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3880, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/lib/use-geolocation.ts"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\n\nexport function useGeolocation() {\n  const [coords, setCoords] = useState<{ lat: number; lng: number } | null>(null)\n  const [error, setError] = useState<string | null>(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    if (!navigator?.geolocation) {\n      setError(\"Geolocation not available\")\n      setLoading(false)\n      return\n    }\n\n    navigator.geolocation.getCurrentPosition(\n      (pos) => {\n        setCoords({ lat: pos.coords.latitude, lng: pos.coords.longitude })\n        setLoading(false)\n      },\n      (err) => {\n        setError(err.message)\n        setLoading(false)\n      },\n      { enableHighAccuracy: true, timeout: 10000 },\n    )\n  }, [])\n\n  return { coords, error, loading }\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAIO,SAAS;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAsC;IAC1E,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,WAAW,aAAa;YAC3B,SAAS;YACT,WAAW;YACX;QACF;QAEA,UAAU,WAAW,CAAC,kBAAkB,CACtC,CAAC;YACC,UAAU;gBAAE,KAAK,IAAI,MAAM,CAAC,QAAQ;gBAAE,KAAK,IAAI,MAAM,CAAC,SAAS;YAAC;YAChE,WAAW;QACb,GACA,CAAC;YACC,SAAS,IAAI,OAAO;YACpB,WAAW;QACb,GACA;YAAE,oBAAoB;YAAM,SAAS;QAAM;IAE/C,GAAG,EAAE;IAEL,OAAO;QAAE;QAAQ;QAAO;IAAQ;AAClC"}},
    {"offset": {"line": 3921, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/owner/create-request-flow.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useMemo, useState } from \"react\"\nimport { ArrowLeft, Check, MapPin, Calendar, DollarSign, PawPrint, RefreshCcw, Navigation, AlertCircle } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Slider } from \"@/components/ui/slider\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { ServiceIcon } from \"@/components/ui/service-icon\"\nimport { MapView } from \"@/components/map/map-view\"\nimport { createServiceRequest, createPet, fetchPets, fetchServiceTypes } from \"@/lib/api\"\nimport { useGeolocation } from \"@/lib/use-geolocation\"\nimport type { ServiceType } from \"@/lib/types\"\nimport type { User } from \"@/app/page\"\n\ninterface CreateRequestFlowProps {\n  user: User\n  onClose: () => void\n  onSubmit: () => void\n  onUpdateUser?: (updates: Partial<User>) => void\n}\n\nconst STEPS = [\"Details\", \"Localisation & Budget\", \"Confirmation\"] as const\n\ntype ServiceTypeOption = { id: number; name: string; min_price: number; description?: string }\n\nexport function CreateRequestFlow({ user, onClose, onSubmit, onUpdateUser }: CreateRequestFlowProps) {\n  const [step, setStep] = useState(0)\n  const [pets, setPets] = useState(user?.pets || [])\n  const [petsLoading, setPetsLoading] = useState(false)\n  const [petsError, setPetsError] = useState<string | null>(null)\n  const [serviceTypes, setServiceTypes] = useState<ServiceTypeOption[]>([])\n  const [serviceTypeError, setServiceTypeError] = useState<string | null>(null)\n  const [selectedPet, setSelectedPet] = useState<string | null>(pets[0]?.id ?? null)\n  const [selectedServiceTypeId, setSelectedServiceTypeId] = useState<number | null>(null)\n  const [dateStart, setDateStart] = useState(\"\")\n  const [dateEnd, setDateEnd] = useState(\"\")\n  const [price, setPrice] = useState([30])\n  const [description, setDescription] = useState(\"\")\n  const [submitting, setSubmitting] = useState(false)\n  const { coords } = useGeolocation()\n  const [location, setLocation] = useState<{ lat: number; lng: number; address?: string }>({\n    lat: user?.location?.lat ?? coords?.lat ?? 36.8065,\n    lng: user?.location?.lng ?? coords?.lng ?? 10.1815,\n    address: user?.location?.address ?? \"Tunis, Tunisia\",\n  })\n\n  const [addingPet, setAddingPet] = useState(false)\n  const [newPet, setNewPet] = useState({ name: \"\", species: \"dog\", breed: \"\", age: \"\" })\n  const [petError, setPetError] = useState<string | null>(null)\n  const [requestError, setRequestError] = useState<string | null>(null)\n  const [manualAddress, setManualAddress] = useState(location.address || \"\")\n  const [city, setCity] = useState(user?.location?.address || \"Tunis, Tunisia\")\n  const [mapCoords, setMapCoords] = useState<{ lat: number; lng: number } | null>(null)\n  const [fieldErrors, setFieldErrors] = useState<Record<string, string>>({})\n\n  useEffect(() => {\n    const loadPets = async () => {\n      setPetsLoading(true)\n      setPetsError(null)\n      try {\n        const data = await fetchPets()\n        setPets(data || [])\n        if (!selectedPet && data && data[0]) setSelectedPet(String(data[0].id))\n      } catch (err) {\n        setPetsError(\"Impossible de charger vos animaux.\")\n      } finally {\n        setPetsLoading(false)\n      }\n    }\n    const loadServiceTypes = async () => {\n      try {\n        const data = await fetchServiceTypes()\n        setServiceTypes(data || [])\n      } catch (err) {\n        setServiceTypeError(\"Types de services indisponibles.\")\n      }\n    }\n    void loadPets()\n    void loadServiceTypes()\n  }, [selectedPet])\n\n  useEffect(() => {\n    if (coords?.lat && coords?.lng) {\n      setLocation((prev) => ({ ...prev, lat: coords.lat, lng: coords.lng }))\n    }\n  }, [coords])\n\n  const selectedPetData = pets.find((p) => String(p.id) === String(selectedPet))\n  const selectedService = useMemo(() => serviceTypes.find((s) => s.id === selectedServiceTypeId) || null, [serviceTypes, selectedServiceTypeId])\n  const durationInfo = useMemo(() => {\n    if (!dateStart || !dateEnd) return null\n    const start = new Date(dateStart)\n    const end = new Date(dateEnd)\n    if (Number.isNaN(start.getTime()) || Number.isNaN(end.getTime()) || end <= start) return null\n    const diffMs = end.getTime() - start.getTime()\n    const hours = Math.round(diffMs / (1000 * 60 * 60))\n    const days = Math.floor(hours / 24)\n    const remHours = hours % 24\n    return { hours, days, remHours }\n  }, [dateStart, dateEnd])\n\n  const validateStep = (currentStep: number) => {\n    const errs: Record<string, string> = {}\n    if (currentStep === 0) {\n      if (!selectedPet) errs.pet = \"Selectionne un animal.\"\n      if (selectedServiceTypeId === null) errs.service = \"Choisis un service.\"\n      if (!dateStart) errs.dateStart = \"Date de debut requise\"\n      if (!dateEnd) errs.dateEnd = \"Date de fin requise\"\n      if (dateStart && dateEnd && new Date(dateEnd) < new Date(dateStart)) errs.dateEnd = \"La fin doit etre apres le debut\"\n    }\n    if (currentStep === 1) {\n      if (!manualAddress && !city) errs.address = \"Adresse requise\"\n      if (selectedService && price[0] < Number(selectedService.min_price)) {\n        errs.price = `Minimum ${Number(selectedService.min_price)} TND`\n      } else if (price[0] < 10) {\n        errs.price = \"Montant trop bas\"\n      }\n    }\n    return errs\n  }\n\n  const canContinue = () => Object.values(validateStep(step)).every((msg) => !msg)\n\n  const handleNext = () => {\n    const errs = validateStep(step)\n    setFieldErrors((prev) => ({ ...prev, ...errs }))\n    if (Object.values(errs).some(Boolean)) return\n    if (step < STEPS.length - 1) setStep(step + 1)\n    else void handleSubmit()\n  }\n\n  const handleBack = () => {\n    if (step > 0) setStep(step - 1)\n    else onClose()\n  }\n\n  const handleSubmit = async () => {\n    const errs = { ...validateStep(0), ...validateStep(1) }\n    setFieldErrors((prev) => ({ ...prev, ...errs }))\n    if (Object.values(errs).some(Boolean)) {\n      setRequestError(\"Corrige les champs en rouge.\")\n      return\n    }\n    setSubmitting(true)\n    setRequestError(null)\n    try {\n      await createServiceRequest({\n        petId: selectedPet,\n        serviceTypeId: selectedServiceTypeId,\n        requestedPrice: price[0],\n        location: { ...location, address: manualAddress || city || location.address },\n      })\n      onSubmit()\n    } catch (err) {\n      setRequestError(\"Creation impossible. Verifie les champs et reessaie.\")\n    } finally {\n      setSubmitting(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background flex flex-col\">\n      <div className=\"flex items-center gap-4 p-4 border-b border-border\">\n        <button onClick={handleBack} className=\"p-2 hover:bg-secondary rounded-lg\">\n          <ArrowLeft size={20} />\n        </button>\n        <div className=\"flex-1\">\n          <h1 className=\"font-semibold\">Creer une demande</h1>\n          <p className=\"text-sm text-muted-foreground\">\n            Etape {step + 1} sur {STEPS.length}\n          </p>\n        </div>\n      </div>\n\n      <div className=\"flex gap-1 px-4 py-3\">\n        {STEPS.map((_, i) => (\n          <div key={i} className={`flex-1 h-1 rounded-full transition-colors ${i <= step ? \"bg-primary\" : \"bg-border\"}`} />\n        ))}\n      </div>\n\n      <div className=\"flex-1 p-4 overflow-y-auto space-y-4\">\n        <h2 className=\"text-xl font-semibold\">{STEPS[step]}</h2>\n        {requestError ? <p className=\"text-sm text-destructive\">{requestError}</p> : null}\n\n        {step === 0 && (\n          <div className=\"space-y-6\">\n            <div className=\"space-y-3\">\n              {petsLoading && <p className=\"text-sm text-muted-foreground\">Chargement des animaux.</p>}\n              {petsError && <p className=\"text-sm text-destructive\">{petsError}</p>}\n              {pets.map((pet) => (\n                <button\n                  key={pet.id}\n                  onClick={() => setSelectedPet(String(pet.id))}\n                  className={`w-full p-4 rounded-xl border-2 transition-all flex items-center gap-4 ${\n                    selectedPet === String(pet.id) ? \"border-primary bg-primary/5\" : \"border-border hover:border-primary/50\"\n                  }`}\n                >\n                  <Avatar className=\"h-14 w-14\">\n                    <AvatarImage src={pet.image || `/petAvatar.png?height=56&width=56&query=${pet.type} ${pet.breed}`} />\n                    <AvatarFallback>{pet.name?.[0]}</AvatarFallback>\n                  </Avatar>\n                  <div className=\"flex-1 text-left\">\n                    <p className=\"font-semibold\">{pet.name}</p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {(pet.breed || pet.type) ?? \"\"} - {pet.age ?? \"-\"} ans\n                    </p>\n                  </div>\n                  {selectedPet === String(pet.id) && (\n                    <div className=\"w-6 h-6 bg-primary rounded-full flex items-center justify-center\">\n                      <Check size={14} className=\"text-primary-foreground\" />\n                    </div>\n                  )}\n                </button>\n              ))}\n              {fieldErrors.pet && (\n                <p className=\"flex items-center gap-1 text-xs text-destructive\">\n                  <AlertCircle className=\"w-3 h-3\" />\n                  {fieldErrors.pet}\n                </p>\n              )}\n\n              <div className=\"flex gap-2\">\n                <Button\n                  className=\"flex-1\"\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => {\n                    setPetsError(null)\n                    void (async () => {\n                      try {\n                        const data = await fetchPets()\n                        setPets(data || [])\n                        if (data && data[0]) setSelectedPet(String(data[0].id))\n                      } catch (err) {\n                        setPetsError(\"Impossible de rafraichir les animaux.\")\n                      }\n                    })()\n                  }}\n                >\n                  <RefreshCcw size={14} className=\"mr-1\" />\n                  Rafraichir mes animaux\n                </Button>\n                <Button variant=\"secondary\" size=\"sm\" onClick={() => setAddingPet((v) => !v)}>\n                  <PawPrint size={16} className=\"mr-1\" />\n                  Ajouter\n                </Button>\n              </div>\n\n              {addingPet && (\n                <div className=\"p-4 border rounded-xl space-y-3 bg-secondary/30\">\n                  {petError ? <p className=\"text-sm text-destructive\">{petError}</p> : null}\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div className=\"space-y-1\">\n                      <Label>Nom</Label>\n                      <Input value={newPet.name} onChange={(e) => setNewPet({ ...newPet, name: e.target.value })} />\n                    </div>\n                    <div className=\"space-y-1\">\n                      <Label>Type</Label>\n                      <select\n                        className=\"w-full rounded-md border bg-card p-2 text-sm\"\n                        value={newPet.species}\n                        onChange={(e) => setNewPet({ ...newPet, species: e.target.value })}\n                      >\n                        <option value=\"dog\">Chien</option>\n                        <option value=\"cat\">Chat</option>\n                        <option value=\"other\">Autre</option>\n                      </select>\n                    </div>\n                    <div className=\"space-y-1\">\n                      <Label>Race</Label>\n                      <Input value={newPet.breed} onChange={(e) => setNewPet({ ...newPet, breed: e.target.value })} />\n                    </div>\n                    <div className=\"space-y-1\">\n                      <Label>Age (ans)</Label>\n                      <Input type=\"number\" value={newPet.age} onChange={(e) => setNewPet({ ...newPet, age: e.target.value })} />\n                    </div>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <Button\n                      type=\"button\"\n                      className=\"flex-1\"\n                      onClick={async () => {\n                        setPetError(null)\n                        if (!newPet.name) {\n                          setPetError(\"Nom requis.\")\n                          return\n                        }\n                        try {\n                          const created = await createPet({\n                            name: newPet.name,\n                            species: newPet.species,\n                            breed: newPet.breed,\n                            age: newPet.age ? Number(newPet.age) : undefined,\n                          })\n                          setPets((prev) => [...prev, created])\n                          setSelectedPet(String(created.id))\n                          onUpdateUser?.({ pets: [...pets, created] as any })\n                          setAddingPet(false)\n                          setNewPet({ name: \"\", species: \"dog\", breed: \"\", age: \"\" })\n                        } catch (err) {\n                          setPetError(\"Ajout impossible. Verifie que tu es connecte.\")\n                        }\n                      }}\n                      disabled={!newPet.name}\n                    >\n                      Enregistrer l'animal\n                    </Button>\n                    <Button variant=\"ghost\" type=\"button\" onClick={() => setAddingPet(false)}>\n                      Annuler\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            <div className=\"space-y-3\">\n              {serviceTypeError ? <p className=\"text-sm text-destructive\">{serviceTypeError}</p> : null}\n              {serviceTypes.length === 0 && !serviceTypeError && (\n                <p className=\"text-sm text-muted-foreground\">Chargement des services.</p>\n              )}\n              <div className=\"grid grid-cols-2 gap-3\">\n                {serviceTypes.map((svc) => {\n                  const friendlyLabel =\n                    svc.name?.toLowerCase().includes(\"walk\") || svc.name?.toLowerCase().includes(\"dog\")\n                      ? \"Promenade\"\n                      : svc.name?.toLowerCase().includes(\"taxi\")\n                        ? \"Pet Taxi\"\n                        : svc.name?.toLowerCase().includes(\"emergency\")\n                          ? \"Urgence\"\n                          : \"Garde a domicile\"\n                  const typeKey: ServiceType =\n                    friendlyLabel === \"Promenade\"\n                      ? \"walking\"\n                      : friendlyLabel === \"Pet Taxi\"\n                        ? \"taxi\"\n                        : friendlyLabel === \"Urgence\"\n                          ? \"emergency\"\n                          : \"sitting\"\n                  const bg =\n                    friendlyLabel === \"Garde a domicile\"\n                      ? \"bg-[#F5E6D3]\"\n                      : friendlyLabel === \"Promenade\"\n                        ? \"bg-[#D4E7F7]\"\n                        : friendlyLabel === \"Urgence\"\n                          ? \"bg-[#FFD4D4]\"\n                          : \"bg-[#E8D9F5]\"\n                  const hoverBorder =\n                    friendlyLabel === \"Garde a domicile\"\n                      ? \"hover:border-[#c67b5c]\"\n                      : friendlyLabel === \"Promenade\"\n                        ? \"hover:border-[#2F6F8F]\"\n                        : friendlyLabel === \"Urgence\"\n                          ? \"hover:border-[#D94141]\"\n                          : \"hover:border-[#8B9F8F]\"\n                  return (\n                    <button\n                      key={svc.id}\n                      onClick={() => setSelectedServiceTypeId(svc.id)}\n                      className={`p-4 rounded-xl border-2 transition-all text-left shadow-sm ${bg} ${\n                        selectedServiceTypeId === svc.id ? \"border-primary scale-[1.01]\" : `border-border ${hoverBorder} hover:shadow-md`\n                      }`}\n                    >\n                      <div className=\"w-12 h-12 rounded-lg flex items-center justify-center mb-3 bg-white/60 shadow-sm\">\n                        <ServiceIcon type={typeKey} size={32} />\n                      </div>\n                      <p className=\"font-semibold text-sm\">{friendlyLabel}</p>\n                      <p className=\"text-xs text-muted-foreground mt-1\">\n                        Tarif min: {Number(svc.min_price)} TND {svc.description ? `- ${svc.description}` : \"\"}\n                      </p>\n                    </button>\n                  )\n                })}\n              </div>\n              {fieldErrors.service && (\n                <p className=\"flex items-center gap-1 text-xs text-destructive\">\n                  <AlertCircle className=\"w-3 h-3\" />\n                  {fieldErrors.service}\n                </p>\n              )}\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"start\">Date et heure de debut</Label>\n                <Input\n                  id=\"start\"\n                  type=\"datetime-local\"\n                  value={dateStart}\n                  onChange={(e) => setDateStart(e.target.value)}\n                  onBlur={() => setFieldErrors((prev) => ({ ...prev, ...validateStep(0) }))}\n                  aria-invalid={!!fieldErrors.dateStart}\n                  min={new Date().toISOString().slice(0, 16)}\n                />\n                <p className=\"text-xs text-muted-foreground\">Selectionne la date et l'heure souhaitees</p>\n                {fieldErrors.dateStart && (\n                  <p className=\"flex items-center gap-1 text-xs text-destructive\">\n                    <AlertCircle className=\"w-3 h-3\" />\n                    {fieldErrors.dateStart}\n                  </p>\n                )}\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"end\">Date et heure de fin</Label>\n                <Input\n                  id=\"end\"\n                  type=\"datetime-local\"\n                  value={dateEnd}\n                  onChange={(e) => setDateEnd(e.target.value)}\n                  onBlur={() => setFieldErrors((prev) => ({ ...prev, ...validateStep(0) }))}\n                  aria-invalid={!!fieldErrors.dateEnd}\n                  min={dateStart || new Date().toISOString().slice(0, 16)}\n                />\n                <p className=\"text-xs text-muted-foreground\">Selectionne la date et l'heure souhaitees</p>\n                {fieldErrors.dateEnd && (\n                  <p className=\"flex items-center gap-1 text-xs text-destructive\">\n                    <AlertCircle className=\"w-3 h-3\" />\n                    {fieldErrors.dateEnd}\n                  </p>\n                )}\n              </div>\n              {durationInfo && (\n                <div className=\"text-sm text-muted-foreground\">\n                  Duree estimee : {durationInfo.days}j {durationInfo.remHours}h ({durationInfo.hours} heures)\n                </div>\n              )}\n              <div className=\"flex flex-wrap gap-2 text-sm\">\n                <span className=\"text-muted-foreground\">Suggestions :</span>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => {\n                    const base = dateStart ? new Date(dateStart) : new Date()\n                    const dayStr = base.toISOString().slice(0, 10)\n                    setDateStart(`${dayStr}T09:00`)\n                    setDateEnd(`${dayStr}T12:00`)\n                  }}\n                >\n                  Matin (09:00-12:00)\n                </Button>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => {\n                    const base = dateStart ? new Date(dateStart) : new Date()\n                    const dayStr = base.toISOString().slice(0, 10)\n                    setDateStart(`${dayStr}T12:00`)\n                    setDateEnd(`${dayStr}T17:00`)\n                  }}\n                >\n                  Apres-midi (12:00-17:00)\n                </Button>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => {\n                    const base = dateStart ? new Date(dateStart) : new Date()\n                    const dayStr = base.toISOString().slice(0, 10)\n                    setDateStart(`${dayStr}T18:00`)\n                    setDateEnd(`${dayStr}T22:00`)\n                  }}\n                >\n                  Soir (18:00-22:00)\n                </Button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {step === 1 && (\n          <div className=\"space-y-6\">\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center gap-3\">\n                <MapPin size={20} className=\"text-primary\" />\n                <div className=\"flex-1\">\n                  <Label>Adresse</Label>\n                  <Input\n                    value={manualAddress}\n                    onChange={(e) => {\n                      const val = e.target.value\n                      setManualAddress(val)\n                      setLocation((prev) => ({ ...prev, address: val || city || prev.address }))\n                    }}\n                    placeholder=\"Ex: Rue de Marseille, Tunis\"\n                  />\n                </div>\n              </div>\n              <div>\n                <Label>Ville / Zone (Grand Tunis)</Label>\n                <select\n                  className=\"w-full mt-1 rounded-md border bg-card p-2\"\n                  value={city}\n                  onChange={(e) => {\n                    const val = e.target.value\n                    setCity(val)\n                    setLocation((prev) => ({ ...prev, address: manualAddress || val, lat: prev.lat, lng: prev.lng }))\n                  }}\n                >\n                  {[\"Tunis, Tunisia\", \"La Marsa\", \"Carthage\", \"Le Kram\", \"Ariana\", \"Ben Arous\", \"Manouba\", \"Ezzahra\", \"Bardo\"].map((c) => (\n                    <option key={c} value={c}>\n                      {c}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              {fieldErrors.address && (\n                <p className=\"flex items-center gap-1 text-xs text-destructive\">\n                  <AlertCircle className=\"w-3 h-3\" />\n                  {fieldErrors.address}\n                </p>\n              )}\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"inline-flex items-center gap-2\"\n                onClick={() => {\n                  if (coords?.lat && coords?.lng) {\n                    setLocation({\n                      lat: coords.lat,\n                      lng: coords.lng,\n                      address: manualAddress || city || location.address,\n                    })\n                    setManualAddress(manualAddress || city || location.address || \"Ma position\")\n                  }\n                }}\n              >\n                <Navigation size={16} />\n                Utiliser ma position\n              </Button>\n\n              <div className=\"text-xs text-muted-foreground\">\n                Lat: {location.lat.toFixed(4)} - Lng: {location.lng.toFixed(4)}\n              </div>\n              <div className=\"rounded-2xl overflow-hidden border border-border h-72\">\n                <MapView\n                  apiKey={process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY}\n                  center={mapCoords || location}\n                  markers={\n                    mapCoords\n                      ? [{ id: \"selected\", lat: mapCoords.lat, lng: mapCoords.lng, type: \"request\", label: \"Emplacement\" }]\n                      : []\n                  }\n                  onSelectLocation={(pos) => {\n                    const addrText = manualAddress?.trim()\n                      ? manualAddress\n                      : `${city || \"Tunis\"}, (${pos.lat.toFixed(4)}, ${pos.lng.toFixed(4)})`\n                    setManualAddress(addrText)\n                    setMapCoords(pos)\n                    setLocation({ ...location, ...pos, address: addrText })\n                  }}\n                />\n              </div>\n              <div className=\"text-xs text-muted-foreground\">\n                Adresse actuelle : {manualAddress || city} | Coords : {mapCoords ? `${mapCoords.lat.toFixed(4)}, ${mapCoords.lng.toFixed(4)}` : \"-\"}\n              </div>\n            </div>\n\n            <div className=\"space-y-6\">\n              <div className=\"text-center\">\n                <div className=\"inline-flex items-center gap-2 text-4xl font-bold text-primary\">\n                  <span>{price[0]}</span>\n                  <span className=\"text-lg font-semibold text-muted-foreground\">TND</span>\n                </div>\n                <p className=\"text-muted-foreground mt-1\">Budget propose</p>\n                {selectedService ? <p className=\"text-xs text-muted-foreground\">Minimum: {Number(selectedService.min_price)} TND pour ce service</p> : null}\n                {durationInfo && (\n                  <p className=\"text-xs text-muted-foreground mt-1\">\n                    Prix estime: {Math.max(price[0], selectedService ? Number(selectedService.min_price) : 0)} TND - Duree {durationInfo.hours} h\n                  </p>\n                )}\n              </div>\n\n              <div className=\"px-4\">\n                <Slider value={price} onValueChange={setPrice} min={10} max={200} step={5} className=\"mb-4\" />\n                <div className=\"flex justify-between text-sm text-muted-foreground\">\n                  <span>10 TND</span>\n                  <span>200 TND</span>\n                </div>\n              </div>\n              {fieldErrors.price && (\n                <p className=\"flex items-center gap-1 text-xs text-destructive\">\n                  <AlertCircle className=\"w-3 h-3\" />\n                  {fieldErrors.price}\n                </p>\n              )}\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"description\">Notes additionnelles (optionnel)</Label>\n                <Textarea\n                  id=\"description\"\n                  placeholder=\"Instructions pour le gardien...\"\n                  value={description}\n                  onChange={(e) => setDescription(e.target.value)}\n                  rows={3}\n                />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {step === 2 && (\n          <Card>\n            <CardContent className=\"p-4 space-y-4\">\n              <div className=\"flex items-center gap-3\">\n                <Avatar className=\"h-12 w-12\">\n                  <AvatarImage src={selectedPetData?.image || \"/placeholder.svg\"} />\n                  <AvatarFallback>{selectedPetData?.name?.[0]}</AvatarFallback>\n                </Avatar>\n                <div>\n                  <p className=\"font-semibold\">{selectedPetData?.name}</p>\n                  <p className=\"text-sm text-muted-foreground\">{selectedPetData?.breed}</p>\n                </div>\n              </div>\n\n              <div className=\"h-px bg-border\" />\n\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center\">\n                  {selectedService ? (\n                    <ServiceIcon\n                      type={\n                        selectedService.name.toLowerCase().includes(\"walk\")\n                          ? \"walking\"\n                          : selectedService.name.toLowerCase().includes(\"taxi\")\n                            ? \"taxi\"\n                            : selectedService.name.toLowerCase().includes(\"emergency\")\n                              ? \"emergency\"\n                              : \"sitting\"\n                      }\n                      className=\"text-primary\"\n                    />\n                  ) : null}\n                </div>\n                <div>\n                  <p className=\"font-medium\">{selectedService ? selectedService.name : serviceTypeIdToLabel(selectedServiceTypeId)}</p>\n                  <p className=\"text-sm text-muted-foreground\">Type de service</p>\n                </div>\n              </div>\n\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center\">\n                  <Calendar size={20} className=\"text-primary\" />\n                </div>\n                <div>\n                  <p className=\"font-medium\">\n                    {dateStart ? new Date(dateStart).toLocaleDateString() : \"-\"} - {dateEnd ? new Date(dateEnd).toLocaleDateString() : \"-\"}\n                  </p>\n                  <p className=\"text-sm text-muted-foreground\">Plage de dates</p>\n                </div>\n              </div>\n\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center\">\n                  <MapPin size={20} className=\"text-primary\" />\n                </div>\n                <div>\n                  <p className=\"font-medium\">{location.address}</p>\n                  <p className=\"text-sm text-muted-foreground\">Localisation</p>\n                </div>\n              </div>\n\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 bg-accent/10 rounded-lg flex items-center justify-center\">\n                  <DollarSign size={20} className=\"text-accent\" />\n                </div>\n                <div>\n                  <p className=\"font-medium text-accent\">{price[0]} TND</p>\n                  <p className=\"text-sm text-muted-foreground\">Ton offre</p>\n                </div>\n              </div>\n\n              {description && (\n                <>\n                  <div className=\"h-px bg-border\" />\n                  <p className=\"text-sm text-muted-foreground\">{description}</p>\n                </>\n              )}\n            </CardContent>\n          </Card>\n        )}\n      </div>\n\n      <div className=\"p-4 border-t border-border\">\n        <Button onClick={handleNext} className=\"w-full\" size=\"lg\" disabled={!canContinue() || submitting}>\n          {step === STEPS.length - 1 ? \"Envoyer la demande\" : \"Continuer\"}\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nfunction serviceTypeIdToLabel(id: number | null): string {\n  if (id === 2) return \"Promenade\"\n  if (id === 3) return \"Pet Taxi\"\n  if (id === 4) return \"Urgence\"\n  if (id === 1) return \"Garde a domicile\"\n  return \"Service\"\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5670, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/owner/pets-page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { fetchPets, createPet, updatePet } from \"@/lib/api\"\nimport type { Pet } from \"@/lib/types\"\nimport { PawPrint, AlertCircle, CheckCircle2 } from \"lucide-react\"\n\ninterface PetsPageProps {\n  onBack: () => void\n  onUpdated?: (pets: Pet[]) => void\n}\n\nexport function PetsPage({ onBack, onUpdated }: PetsPageProps) {\n  const [pets, setPets] = useState<Pet[]>([])\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [editingId, setEditingId] = useState<string | null>(null)\n  const [form, setForm] = useState<Partial<Pet> & { weight?: string; height?: string; behaviors?: string }>({\n    name: \"\",\n    species: \"dog\",\n    breed: \"\",\n    age: undefined,\n    temperament: \"\",\n    medical_notes: \"\",\n    weight: \"\",\n    height: \"\",\n    behaviors: \"\",\n  })\n  const [fieldErrors, setFieldErrors] = useState<Record<string, string>>({})\n  const ValidIcon = ({ field }: { field: string }) =>\n    !fieldErrors[field] && (form as any)[field]\n      ? <CheckCircle2 className=\"w-4 h-4 text-green-600\" aria-hidden=\"true\" />\n      : null\n\n  const loadPets = async () => {\n    setLoading(true)\n    setError(null)\n    try {\n      const data = await fetchPets()\n      setPets(data || [])\n      onUpdated?.(data || [])\n    } catch (err) {\n      console.error(err)\n      setError(\"Impossible de charger vos animaux.\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    void loadPets()\n  }, [])\n\n  const startEdit = (pet?: Pet) => {\n    if (pet) {\n      setEditingId(String(pet.id))\n      setForm({\n        ...pet,\n        weight: extractValue(pet.medical_notes, \"Poids\"),\n        height: extractValue(pet.medical_notes, \"Taille\"),\n        behaviors: pet.temperament || \"\",\n      })\n    } else {\n      setEditingId(\"new\")\n      setForm({ name: \"\", species: \"dog\", breed: \"\", age: undefined, weight: \"\", height: \"\", behaviors: \"\", temperament: \"\", medical_notes: \"\" })\n    }\n  }\n\n  const extractValue = (text: string | undefined, label: string) => {\n    if (!text) return \"\"\n    const match = text.split(\"\\n\").find((line) => line.toLowerCase().startsWith(label.toLowerCase()))\n    if (!match) return \"\"\n    return match.split(\":\").slice(1).join(\":\").trim()\n  }\n\n  const buildMedicalNotes = () => {\n    const parts = []\n    if (form.weight) parts.push(`Poids: ${form.weight}`)\n    if (form.height) parts.push(`Taille: ${form.height}`)\n    if (form.medical_notes) parts.push(form.medical_notes)\n    return parts.join(\"\\n\")\n  }\n\n  const savePet = async () => {\n    const errs: Record<string, string> = {}\n    if (!form.name) errs.name = \"Nom requis\"\n    if (!form.species) errs.species = \"Type requis\"\n    setFieldErrors(errs)\n    if (Object.values(errs).some(Boolean)) {\n      setError(\"Corrige les champs en rouge.\")\n      return\n    }\n    setLoading(true)\n    setError(null)\n    try {\n      if (editingId && editingId !== \"new\") {\n        const updated = await updatePet(editingId, {\n          name: form.name,\n          species: (form as any).species,\n          breed: form.breed,\n          age: form.age ? Number(form.age) : undefined,\n          temperament: form.behaviors || form.temperament,\n          medical_notes: buildMedicalNotes(),\n        })\n        const list = pets.map((p) => (String(p.id) === String(updated.id) ? updated : p))\n        setPets(list)\n        onUpdated?.(list)\n      } else {\n        const created = await createPet({\n          name: form.name,\n          species: (form as any).species,\n          breed: form.breed,\n          age: form.age ? Number(form.age) : undefined,\n          temperament: form.behaviors,\n          medical_notes: buildMedicalNotes(),\n        })\n        const list = [...pets, created]\n        setPets(list)\n        onUpdated?.(list)\n      }\n      setEditingId(null)\n      setForm({ name: \"\", species: \"dog\", breed: \"\", age: undefined, weight: \"\", height: \"\", behaviors: \"\", temperament: \"\", medical_notes: \"\" })\n    } catch (err) {\n      console.error(err)\n      setError(\"Sauvegarde impossible.\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background flex flex-col\">\n      <div className=\"flex items-center gap-4 p-4 border-b border-border\">\n        <button onClick={onBack} className=\"p-2 hover:bg-secondary rounded-lg\">\n          ‚Üê\n        </button>\n        <div className=\"flex-1\">\n          <h1 className=\"font-semibold\">Mes animaux</h1>\n          <p className=\"text-sm text-muted-foreground\">G√©rer les profils de vos compagnons.</p>\n        </div>\n        <Button size=\"sm\" onClick={() => startEdit()}>\n          Ajouter un animal\n        </Button>\n      </div>\n\n      <div className=\"p-4 space-y-3 overflow-y-auto\">\n        {loading && <p className=\"text-sm text-muted-foreground\">Chargement...</p>}\n        {error && <p className=\"text-sm text-destructive\">{error}</p>}\n\n        {pets.map((pet) => (\n          <Card key={pet.id}>\n            <CardContent className=\"p-4 flex gap-3 items-center\">\n              <Avatar className=\"h-14 w-14\">\n                <AvatarImage src={pet.image || \"/petAvatar.png\"} />\n                <AvatarFallback>{pet.name?.[0] ?? <PawPrint />}</AvatarFallback>\n              </Avatar>\n              <div className=\"flex-1\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"font-semibold\">{pet.name}</p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {(pet.breed || pet.species || pet.type) ?? \"\"} ¬∑ {pet.age ?? \"-\"} ans\n                    </p>\n                  </div>\n                  <Button variant=\"outline\" size=\"sm\" onClick={() => startEdit(pet)}>\n                    Modifier\n                  </Button>\n                </div>\n                {pet.temperament && <p className=\"text-sm text-muted-foreground mt-1\">Comportement: {pet.temperament}</p>}\n                {pet.medical_notes && <p className=\"text-sm text-muted-foreground\">Notes: {pet.medical_notes}</p>}\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n\n        {pets.length === 0 && !loading && <p className=\"text-sm text-muted-foreground\">Aucun animal enregistr√©.</p>}\n\n        {editingId !== null && (\n          <Card className=\"border-primary/50\">\n            <CardContent className=\"p-4 space-y-3\">\n              <h2 className=\"font-semibold\">{editingId === \"new\" ? \"Nouvel animal\" : \"Modifier l'animal\"}</h2>\n              {error && <p className=\"text-sm text-destructive\">{error}</p>}\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                  <div className=\"flex items-center justify-between\">\n                    <Label>Nom</Label>\n                    <ValidIcon field=\"name\" />\n                  </div>\n                  <Input\n                    value={form.name}\n                    onChange={(e) => setForm({ ...form, name: e.target.value })}\n                    onBlur={() => setFieldErrors((prev) => ({ ...prev, name: form.name ? \"\" : \"Nom requis\" }))}\n                    aria-invalid={!!fieldErrors.name}\n                  />\n                  {fieldErrors.name && (\n                    <p className=\"flex items-center gap-1 text-xs text-destructive\">\n                      <AlertCircle className=\"w-3 h-3\" />\n                      {fieldErrors.name}\n                    </p>\n                  )}\n                </div>\n                <div>\n                  <div className=\"flex items-center justify-between\">\n                    <Label>Type</Label>\n                    <ValidIcon field=\"species\" />\n                  </div>\n                  <select\n                    className=\"w-full rounded-md border bg-card p-2 text-sm\"\n                    value={(form as any).species || \"dog\"}\n                    onChange={(e) => setForm({ ...form, species: e.target.value })}\n                    onBlur={() =>\n                      setFieldErrors((prev) => ({ ...prev, species: (form as any).species ? \"\" : \"Type requis\" }))\n                    }\n                    aria-invalid={!!fieldErrors.species}\n                  >\n                    <option value=\"dog\">Chien</option>\n                    <option value=\"cat\">Chat</option>\n                    <option value=\"other\">Autre</option>\n                  </select>\n                  {fieldErrors.species && (\n                    <p className=\"flex items-center gap-1 text-xs text-destructive\">\n                      <AlertCircle className=\"w-3 h-3\" />\n                      {fieldErrors.species}\n                    </p>\n                  )}\n                </div>\n                <div>\n                  <Label>Race</Label>\n                  <Input value={form.breed} onChange={(e) => setForm({ ...form, breed: e.target.value })} />\n                </div>\n                <div>\n                  <Label>√Çge</Label>\n                  <Input\n                    type=\"number\"\n                    value={form.age as any}\n                    onChange={(e) => setForm({ ...form, age: e.target.value ? Number(e.target.value) : undefined })}\n                  />\n                </div>\n                <div>\n                  <Label>Poids</Label>\n                  <Input value={form.weight} onChange={(e) => setForm({ ...form, weight: e.target.value })} />\n                </div>\n                <div>\n                  <Label>Taille</Label>\n                  <Input value={form.height} onChange={(e) => setForm({ ...form, height: e.target.value })} />\n                </div>\n              </div>\n              <div className=\"space-y-1\">\n                <Label>Comportement</Label>\n                <Textarea\n                  value={form.behaviors}\n                  onChange={(e) => setForm({ ...form, behaviors: e.target.value })}\n                  placeholder=\"Amical, actif, ok chats...\"\n                />\n              </div>\n              <div className=\"space-y-1\">\n                <Label>Notes m√©dicales / besoins</Label>\n                <Textarea\n                  value={form.medical_notes}\n                  onChange={(e) => setForm({ ...form, medical_notes: e.target.value })}\n                  placeholder=\"Allergies, m√©dicaments, etc.\"\n                />\n              </div>\n              <div className=\"flex gap-2\">\n                <Button onClick={savePet} disabled={loading}>\n                  Enregistrer\n                </Button>\n                <Button variant=\"ghost\" onClick={() => setEditingId(null)} disabled={loading}>\n                  Annuler\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6440, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/review/review-form.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { Star, ArrowLeft } from \"lucide-react\"\n\ninterface ReviewFormProps {\n  targetName: string\n  targetAvatar?: string\n  petName: string\n  onSubmit: (rating: number, comment: string) => void\n  onBack: () => void\n}\n\nexport function ReviewForm({ targetName, targetAvatar, petName, onSubmit, onBack }: ReviewFormProps) {\n  const [rating, setRating] = useState(0)\n  const [hoverRating, setHoverRating] = useState(0)\n  const [comment, setComment] = useState(\"\")\n  const [error, setError] = useState<string | null>(null)\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (rating <= 0) {\n      setError(\"Choisis une note avant d'envoyer.\")\n      return\n    }\n    setError(null)\n    onSubmit(rating, comment)\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background flex flex-col\">\n      {/* Header */}\n      <div className=\"flex items-center gap-4 p-4 border-b border-border\">\n        <button onClick={onBack} className=\"p-2 hover:bg-secondary rounded-lg\">\n          <ArrowLeft size={20} />\n        </button>\n        <div className=\"flex-1\">\n          <h1 className=\"font-semibold\">Leave a Review</h1>\n        </div>\n      </div>\n\n      <div className=\"flex-1 p-4\">\n        <Card>\n          <CardHeader className=\"text-center pb-2\">\n            <Avatar className=\"h-20 w-20 mx-auto mb-3\">\n              <AvatarImage src={targetAvatar || \"/happy-person-3.jpeg\"} />\n              <AvatarFallback className=\"text-xl\">{targetName[0]}</AvatarFallback>\n            </Avatar>\n            <CardTitle className=\"text-lg\">How was your experience with {targetName}?</CardTitle>\n            <p className=\"text-sm text-muted-foreground\">Service for {petName}</p>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              {/* Star Rating */}\n              <div className=\"flex justify-center gap-2\">\n                {[1, 2, 3, 4, 5].map((star) => (\n                  <button\n                    key={star}\n                    type=\"button\"\n                    onClick={() => setRating(star)}\n                    onMouseEnter={() => setHoverRating(star)}\n                    onMouseLeave={() => setHoverRating(0)}\n                    className=\"p-1 transition-transform hover:scale-110\"\n                  >\n                    <Star\n                      size={40}\n                      className={`transition-colors ${\n                        star <= (hoverRating || rating) ? \"fill-yellow-400 text-yellow-400\" : \"text-muted-foreground\"\n                      }`}\n                    />\n                  </button>\n                ))}\n            </div>\n\n            {rating > 0 && (\n              <p className=\"text-center text-sm text-muted-foreground\">\n                {rating === 5 && \"Excellent!\"}\n                {rating === 4 && \"Very Good!\"}\n                {rating === 3 && \"Good\"}\n                {rating === 2 && \"Fair\"}\n                {rating === 1 && \"Poor\"}\n              </p>\n            )}\n            {error && <p className=\"text-center text-xs text-destructive\">{error}</p>}\n\n              {/* Comment */}\n              <div className=\"space-y-2\">\n                <Textarea\n                  placeholder=\"Share your experience (optional)...\"\n                  value={comment}\n                  onChange={(e) => setComment(e.target.value)}\n                  rows={4}\n                />\n              </div>\n\n              {/* Submit */}\n              <Button type=\"submit\" className=\"w-full\" size=\"lg\" disabled={rating === 0}>\n                Submit Review\n              </Button>\n            </form>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AATA;;;;;;;;AAmBO,SAAS,WAAW,EAAE,UAAU,EAAE,YAAY,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAmB;IACjG,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,IAAI,UAAU,GAAG;YACf,SAAS;YACT;QACF;QACA,SAAS;QACT,SAAS,QAAQ;IACnB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAO,SAAS;wBAAQ,WAAU;kCACjC,cAAA,8OAAC,6NAAS;4BAAC,MAAM;;;;;;;;;;;kCAEnB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAG,WAAU;sCAAgB;;;;;;;;;;;;;;;;;0BAIlC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,iIAAI;;sCACH,8OAAC,uIAAU;4BAAC,WAAU;;8CACpB,8OAAC,qIAAM;oCAAC,WAAU;;sDAChB,8OAAC,0IAAW;4CAAC,KAAK,gBAAgB;;;;;;sDAClC,8OAAC,6IAAc;4CAAC,WAAU;sDAAW,UAAU,CAAC,EAAE;;;;;;;;;;;;8CAEpD,8OAAC,sIAAS;oCAAC,WAAU;;wCAAU;wCAA8B;wCAAW;;;;;;;8CACxE,8OAAC;oCAAE,WAAU;;wCAAgC;wCAAa;;;;;;;;;;;;;sCAE5D,8OAAC,wIAAW;sCACV,cAAA,8OAAC;gCAAK,UAAU;gCAAc,WAAU;;kDAEtC,8OAAC;wCAAI,WAAU;kDACZ;4CAAC;4CAAG;4CAAG;4CAAG;4CAAG;yCAAE,CAAC,GAAG,CAAC,CAAC,qBACpB,8OAAC;gDAEC,MAAK;gDACL,SAAS,IAAM,UAAU;gDACzB,cAAc,IAAM,eAAe;gDACnC,cAAc,IAAM,eAAe;gDACnC,WAAU;0DAEV,cAAA,8OAAC,0MAAI;oDACH,MAAM;oDACN,WAAW,CAAC,kBAAkB,EAC5B,QAAQ,CAAC,eAAe,MAAM,IAAI,oCAAoC,yBACtE;;;;;;+CAXC;;;;;;;;;;oCAiBZ,SAAS,mBACR,8OAAC;wCAAE,WAAU;;4CACV,WAAW,KAAK;4CAChB,WAAW,KAAK;4CAChB,WAAW,KAAK;4CAChB,WAAW,KAAK;4CAChB,WAAW,KAAK;;;;;;;oCAGpB,uBAAS,8OAAC;wCAAE,WAAU;kDAAwC;;;;;;kDAG7D,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,yIAAQ;4CACP,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;4CAC1C,MAAM;;;;;;;;;;;kDAKV,8OAAC,qIAAM;wCAAC,MAAK;wCAAS,WAAU;wCAAS,MAAK;wCAAK,UAAU,WAAW;kDAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASzF"}},
    {"offset": {"line": 6696, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/owner/owner-home.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useMemo, useState } from \"react\"\nimport { MapView } from \"@/components/map/map-view\"\nimport { BottomSheet } from \"@/components/map/bottom-sheet\"\nimport { RequestCard } from \"@/components/cards/request-card\"\nimport { OfferCard } from \"@/components/cards/offer-card\"\nimport { CreateRequestFlow } from \"@/components/owner/create-request-flow\"\nimport { PetsPage } from \"@/components/owner/pets-page\"\nimport { ActiveBooking } from \"@/components/owner/active-booking\"\nimport { ReviewForm } from \"@/components/review/review-form\"\nimport { Button } from \"@/components/ui/button\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport {\n  fetchSitters,\n  fetchMyRequests,\n  fetchOffersByRequest,\n  acceptOffer,\n  rejectOffer,\n  fetchBookings,\n  completeBooking,\n  sendReview,\n} from \"@/lib/api\"\nimport { useGeolocation } from \"@/lib/use-geolocation\"\nimport { Plus, Bell, Menu, X, ArrowLeft } from \"lucide-react\"\nimport { useI18n } from \"@/lib/i18n\"\nimport type { ServiceRequest, SitterOffer, SitterProfile } from \"@/lib/types\"\nimport type { User } from \"@/app/page\"\nimport { StatusChip } from \"@/components/ui/status-chip\"\n\ntype OwnerView =\n  | \"home\"\n  | \"create-request\"\n  | \"view-offers\"\n  | \"active-booking\"\n  | \"pets\"\n  | \"requests-list\"\n  | \"bookings-list\"\n  | \"review\"\n\ninterface OwnerHomeProps {\n  user: User\n  onLogout: () => void\n  onUpdateUser: (updates: Partial<User>) => void\n}\n\nexport function OwnerHome({ user, onLogout, onUpdateUser }: OwnerHomeProps) {\n  const { t } = useI18n()\n  const [currentView, setCurrentView] = useState<OwnerView>(\"home\")\n  const [selectedRequest, setSelectedRequest] = useState<ServiceRequest | null>(null)\n  const [showMenu, setShowMenu] = useState(false)\n  const [sitters, setSitters] = useState<SitterProfile[]>([])\n  const [requests, setRequests] = useState<ServiceRequest[]>([])\n  const [offers, setOffers] = useState<SitterOffer[]>([])\n  const [bookings, setBookings] = useState<any[]>([])\n  const [selectedBooking, setSelectedBooking] = useState<any | null>(null)\n  const { coords } = useGeolocation()\n\n  const loadData = async () => {\n    try {\n      const data = await fetchSitters()\n      setSitters(data)\n    } catch (err) {\n      console.error(\"Failed to load sitters\", err)\n      setSitters([])\n    }\n    try {\n      const data = await fetchMyRequests()\n      setRequests(data)\n    } catch (err) {\n      console.error(\"Failed to load requests\", err)\n      setRequests([])\n    }\n    try {\n      const data = await fetchBookings()\n      setBookings(data as any)\n    } catch (err) {\n      console.error(\"Failed to load bookings\", err)\n      setBookings([])\n    }\n  }\n\n  useEffect(() => {\n    loadData()\n  }, [])\n\n  const userRequests = useMemo(\n    () => requests.filter((r) => (r.status || \"\").toLowerCase() === \"open\"),\n    [requests],\n  )\n  const markers = sitters\n    .map((s) => {\n      const lat = (s as any).lat ?? (s as any).location?.lat\n      const lng = (s as any).lng ?? (s as any).location?.lng\n      if (!lat || !lng) return null\n      return { id: s.id, lat, lng, type: \"sitter\" as const, label: s.name || \"Sitter\" }\n    })\n    .filter(Boolean) as { id: string; lat: number; lng: number; type: \"sitter\"; label: string }[]\n\n  const handleRequestClick = (request: ServiceRequest) => {\n    setSelectedRequest(request)\n    setCurrentView(\"view-offers\")\n    fetchOffersByRequest(request.id)\n      .then(setOffers)\n      .catch(() => setOffers([]))\n  }\n\n  const handleAcceptOffer = async (offer: SitterOffer) => {\n    try {\n      await acceptOffer(offer.id)\n      const updatedBookings = await fetchBookings()\n      setBookings(updatedBookings as any)\n      await loadData()\n      setCurrentView(updatedBookings && updatedBookings.length > 0 ? \"active-booking\" : \"home\")\n    } catch (err) {\n      console.error(err)\n      setCurrentView(\"home\")\n    } finally {\n      setSelectedRequest(null)\n    }\n  }\n\n  const handleRejectOffer = async (offer: SitterOffer) => {\n    await rejectOffer(offer.id).catch((err) => console.error(err))\n    setOffers((prev) => prev.filter((o) => o.id !== offer.id))\n  }\n\n  const goToBookings = () => {\n    setCurrentView(\"bookings-list\")\n  }\n\n  if (currentView === \"create-request\") {\n    return (\n      <CreateRequestFlow\n        user={user}\n        onClose={() => setCurrentView(\"home\")}\n        onSubmit={async () => {\n          await loadData()\n          setCurrentView(\"home\")\n        }}\n        onUpdateUser={onUpdateUser}\n      />\n    )\n  }\n\n  if (currentView === \"pets\") {\n    return (\n      <PetsPage\n        onBack={() => setCurrentView(\"home\")}\n        onUpdated={(updated) => onUpdateUser?.({ pets: updated as any })}\n      />\n    )\n  }\n\n  if (currentView === \"requests-list\") {\n    return (\n      <div className=\"min-h-screen bg-background\">\n        <div className=\"flex items-center gap-4 p-4 border-b border-border\">\n          <button onClick={() => setCurrentView(\"home\")} className=\"p-2 hover:bg-secondary rounded-lg\">\n            <ArrowLeft size={20} />\n          </button>\n          <div className=\"flex-1\">\n            <h1 className=\"font-semibold\">{t(\"myRequests\")}</h1>\n            <p className=\"text-sm text-muted-foreground\">{requests.length} demandes</p>\n          </div>\n        </div>\n        <div className=\"p-4 space-y-3\">\n          {requests.map((req) => (\n            <RequestCard key={req.id} request={req} onClick={() => handleRequestClick(req)} />\n          ))}\n          {requests.length === 0 && <p className=\"text-sm text-muted-foreground text-center\">Aucune demande.</p>}\n        </div>\n      </div>\n    )\n  }\n\n  if (currentView === \"bookings-list\") {\n    return (\n      <div className=\"min-h-screen bg-background\">\n        <div className=\"flex items-center gap-4 p-4 border-b border-border\">\n          <button onClick={() => setCurrentView(\"home\")} className=\"p-2 hover:bg-secondary rounded-lg\">\n            <ArrowLeft size={20} />\n          </button>\n          <div className=\"flex-1\">\n            <h1 className=\"font-semibold\">{t(\"bookings\")}</h1>\n            <p className=\"text-sm text-muted-foreground\">{bookings.length} r√©servations</p>\n          </div>\n        </div>\n        <div className=\"p-4 space-y-3\">\n          {bookings.map((b) => (\n            <div key={b.id} className=\"p-4 rounded-xl border bg-card shadow-sm\">\n              <div className=\"flex justify-between items-center mb-2\">\n                <div>\n                  <p className=\"font-semibold\">{b.petName || \"Animal\"}</p>\n                  <p className=\"text-sm text-muted-foreground\">{b.sitterName}</p>\n                </div>\n                <StatusChip status={b.status} size=\"sm\" />\n              </div>\n              <p className=\"text-sm text-muted-foreground\">\n                {b.location?.address || (typeof b.location === \"string\" ? b.location : \"Localisation inconnue\")}\n              </p>\n              <p className=\"text-sm text-muted-foreground\">\n                {b.dateStart ? new Date(b.dateStart).toLocaleDateString() : \"\"} ‚Üí{\" \"}\n                {b.dateEnd ? new Date(b.dateEnd).toLocaleDateString() : \"\"}\n              </p>\n              <div className=\"flex gap-2 mt-2\">\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  onClick={() => {\n                    setSelectedBooking(b)\n                    setCurrentView(\"active-booking\")\n                  }}\n                >\n                  D√©tails\n                </Button>\n                {b.status && (b.status === \"in-progress\" || b.status.toLowerCase() === \"active\") && (\n                  <Button\n                    size=\"sm\"\n                    onClick={async () => {\n                      await completeBooking(b.id)\n                      const updated = await fetchBookings()\n                      setBookings(updated as any)\n                    }}\n                  >\n                    Terminer\n                  </Button>\n                )}\n                {b.status && b.status.toLowerCase() === \"completed\" && (\n                  <Button\n                    size=\"sm\"\n                    variant=\"secondary\"\n                    onClick={() => {\n                      setSelectedBooking(b)\n                      setCurrentView(\"review\")\n                    }}\n                  >\n                    Noter le gardien\n                  </Button>\n                )}\n              </div>\n            </div>\n          ))}\n          {bookings.length === 0 && <p className=\"text-sm text-muted-foreground text-center\">Aucune r√©servation.</p>}\n        </div>\n      </div>\n    )\n  }\n\n  if (currentView === \"review\" && selectedBooking) {\n    return (\n      <ReviewForm\n        targetName={selectedBooking.sitterName || \"Sitter\"}\n        targetAvatar={selectedBooking.sitterAvatar}\n        petName={selectedBooking.petName || \"Animal\"}\n        onSubmit={async (rating, comment) => {\n          await sendReview(selectedBooking.id, { rating, comment })\n          setCurrentView(\"home\")\n          const updated = await fetchBookings()\n          setBookings(updated as any)\n          setSelectedBooking(null)\n        }}\n        onBack={() => setCurrentView(\"home\")}\n      />\n    )\n  }\n\n  if (currentView === \"active-booking\" && (selectedBooking || bookings[0])) {\n    const bookingToShow = selectedBooking || bookings[0]\n    return (\n      <ActiveBooking\n        booking={bookingToShow}\n        onBack={() => {\n          setSelectedBooking(null)\n          setCurrentView(\"home\")\n        }}\n        onComplete={async () => {\n          await completeBooking(bookingToShow.id)\n          const updated = await fetchBookings()\n          setBookings(updated as any)\n          setSelectedBooking(bookingToShow)\n          setCurrentView(\"review\")\n        }}\n      />\n    )\n  }\n\n  return (\n    <div className=\"h-screen w-full relative overflow-hidden\">\n      <div className=\"absolute top-0 left-0 right-0 z-30 p-4 flex items-center justify-between\">\n        <button\n          onClick={() => setShowMenu(true)}\n          className=\"w-10 h-10 bg-card rounded-full shadow-md flex items-center justify-center\"\n        >\n          <Menu size={20} />\n        </button>\n\n        <div className=\"bg-card px-4 py-2 rounded-full shadow-md\">\n          <span className=\"text-sm font-medium\">Grand Tunis</span>\n        </div>\n\n        <button className=\"w-10 h-10 bg-card rounded-full shadow-md flex items-center justify-center relative\">\n          <Bell size={20} />\n          <span className=\"absolute top-1 right-1 w-2 h-2 bg-accent rounded-full\" />\n        </button>\n      </div>\n\n      {showMenu && (\n        <div className=\"absolute inset-0 z-50 flex\">\n          <div className=\"absolute inset-0 bg-black/50\" onClick={() => setShowMenu(false)} />\n          <div className=\"relative w-72 bg-card h-full shadow-xl\">\n            <div className=\"p-4 border-b border-border\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <span className=\"font-semibold\">{t(\"menu\")}</span>\n                <button onClick={() => setShowMenu(false)}>\n                  <X size={20} />\n                </button>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <Avatar className=\"h-12 w-12\">\n                  <AvatarImage src={user?.avatar || \"/userAvatar.png\"} />\n                  <AvatarFallback>{user?.name?.[0]}</AvatarFallback>\n                </Avatar>\n                <div>\n                  <p className=\"font-medium\">{user?.name}</p>\n                  <p className=\"text-sm text-muted-foreground\">Propri√©taire</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"p-4 space-y-2\">\n              <button\n                className=\"w-full text-left px-4 py-3 rounded-lg hover:bg-secondary\"\n                onClick={() => {\n                  setShowMenu(false)\n                  setCurrentView(\"pets\")\n                }}\n              >\n                {t(\"myPets\")}\n              </button>\n              <button\n                className=\"w-full text-left px-4 py-3 rounded-lg hover:bg-secondary\"\n                onClick={() => {\n                  setShowMenu(false)\n                  setCurrentView(\"requests-list\")\n                }}\n              >\n                {t(\"myRequests\")}\n              </button>\n              <button\n                className=\"w-full text-left px-4 py-3 rounded-lg hover:bg-secondary\"\n                onClick={() => goToBookings()}\n              >\n                {t(\"bookings\")}\n              </button>\n              <button className=\"w-full text-left px-4 py-3 rounded-lg hover:bg-secondary\">{t(\"settings\")}</button>\n              <button\n                onClick={onLogout}\n                className=\"w-full text-left px-4 py-3 rounded-lg hover:bg-secondary text-destructive\"\n              >\n                {t(\"logout\")}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <MapView\n        apiKey={process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY}\n        center={coords || { lat: 36.8065, lng: 10.1815 }}\n        markers={markers}\n        showRadius={!!coords}\n        radiusKm={5}\n      />\n\n      <Button\n        onClick={() => setCurrentView(\"create-request\")}\n        className=\"fixed w-14 h-14 rounded-full shadow-xl bg-accent hover:bg-accent/90 border border-accent/40 z-50\"\n        style={{ bottom: \"6rem\", right: \"1.25rem\" }}\n        size=\"icon\"\n        aria-label={t(\"createRequest\")}\n      >\n        <Plus size={24} />\n      </Button>\n\n      <BottomSheet defaultSnap={1}>\n        {currentView === \"view-offers\" && selectedRequest ? (\n          <div>\n            <button\n              onClick={() => {\n                setCurrentView(\"home\")\n                setSelectedRequest(null)\n              }}\n              className=\"flex items-center gap-2 text-sm text-muted-foreground mb-4\"\n            >\n              <ArrowLeft size={16} />\n              Retour aux demandes\n            </button>\n\n            <h2 className=\"text-lg font-semibold mb-1\">\n              {t(\"offers\")} ¬∑ {selectedRequest.petName}\n            </h2>\n            <p className=\"text-sm text-muted-foreground mb-4\">{offers.length} gardiens int√©ress√©s</p>\n\n            <div className=\"space-y-3\">\n              {offers.map((offer) => (\n                <OfferCard\n                  key={offer.id}\n                  offer={offer}\n                  locationLabel={\n                    typeof selectedRequest.location === \"string\"\n                      ? selectedRequest.location\n                      : selectedRequest.location?.address\n                  }\n                  onAccept={() => handleAcceptOffer(offer)}\n                  onReject={() => handleRejectOffer(offer)}\n                />\n              ))}\n            </div>\n          </div>\n        ) : (\n          <div>\n            {bookings.length > 0 && bookings[0].status === \"in-progress\" && (\n              <button\n                onClick={() => setCurrentView(\"active-booking\")}\n                className=\"w-full mb-4 p-4 bg-accent/10 rounded-xl flex items-center gap-3\"\n              >\n                <div className=\"w-10 h-10 bg-accent rounded-full flex items-center justify-center\">\n                  <span className=\"text-accent-foreground text-sm font-bold\">!</span>\n                </div>\n                <div className=\"flex-1 text-left\">\n                  <p className=\"font-medium text-foreground\">{t(\"activeBooking\")}</p>\n                  <p className=\"text-sm text-muted-foreground\">\n                    {bookings[0].sitterName} s'occupe de {bookings[0].petName}\n                  </p>\n                </div>\n                <ArrowLeft size={20} className=\"rotate-180 text-muted-foreground\" />\n              </button>\n            )}\n\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-lg font-semibold\">{t(\"nearSitters\")}</h2>\n              <span className=\"text-sm text-muted-foreground\">{sitters.length} disponibles</span>\n            </div>\n\n            {userRequests.length > 0 && (\n              <div className=\"mb-6\">\n                <h3 className=\"text-sm font-medium text-muted-foreground mb-3\">Tes demandes en cours</h3>\n                <div className=\"space-y-3\">\n                  {userRequests.slice(0, 2).map((request) => (\n                    <RequestCard\n                      key={request.id}\n                      request={request}\n                      onClick={() => handleRequestClick(request)}\n                      compact\n                    />\n                  ))}\n                </div>\n              </div>\n            )}\n\n            <div className=\"space-y-3\">\n              {sitters.map((sitter, i) => (\n                <div key={sitter.id} className=\"flex items-center gap-3 p-3 bg-secondary rounded-xl\">\n                  <Avatar className=\"h-10 w-10\">\n                    <AvatarImage src={sitter.avatar || \"/sitterAvatar.png\"} />\n                    <AvatarFallback>{sitter.name?.[0]}</AvatarFallback>\n                  </Avatar>\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium text-sm\">{sitter.name}</p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      {(sitter.trustScore || 0).toFixed?.(1)} ‚òÖ ¬∑ {sitter.reviewCount || 0} avis\n                    </p>\n                  </div>\n                  <span className=\"text-xs text-muted-foreground\">{(1 + i * 0.5).toFixed(1)} km</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </BottomSheet>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7756, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/sitter/request-details.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { ServiceIcon, getServiceLabel } from \"@/components/ui/service-icon\"\nimport { MapView } from \"@/components/map/map-view\"\nimport { createOffer } from \"@/lib/api\"\nimport type { ServiceRequest } from \"@/lib/types\"\nimport { ArrowLeft, MapPin, Calendar, DollarSign, MessageCircle, AlertCircle } from \"lucide-react\"\nimport { format } from \"date-fns\"\n\ninterface RequestDetailsProps {\n  request: ServiceRequest\n  onBack: () => void\n  onAccept: () => void\n}\n\nexport function RequestDetails({ request, onBack, onAccept }: RequestDetailsProps) {\n  const [showCounterOffer, setShowCounterOffer] = useState(false)\n  const [counterPrice, setCounterPrice] = useState(request.offeredPrice.toString())\n  const [message, setMessage] = useState(\"\")\n  const [submitting, setSubmitting] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [fieldErrors, setFieldErrors] = useState<Record<string, string>>({})\n  const loc = (request as any).location || {}\n  const lat = typeof loc.lat === \"number\" ? loc.lat : 36.8065\n  const lng = typeof loc.lng === \"number\" ? loc.lng : 10.1815\n  const address = loc.address || \"Localisation inconnue\"\n  const petInitial = request.petName ? request.petName[0] : \"?\"\n  const ownerInitial = request.ownerName ? request.ownerName[0] : \"?\"\n  const startDate = request.dateStart ? new Date(request.dateStart) : null\n  const endDate = request.dateEnd ? new Date(request.dateEnd) : null\n  const startLabel = startDate && !Number.isNaN(startDate.getTime()) ? format(startDate, \"MMM d, h:mm a\") : \"Date inconnue\"\n  const endLabel = endDate && !Number.isNaN(endDate.getTime()) ? format(endDate, \"MMM d, h:mm a\") : \"Date inconnue\"\n\n  const handleSubmitOffer = async () => {\n    setSubmitting(true)\n    setError(null)\n    try {\n      const priceNum = Number.parseFloat(counterPrice)\n      const errs: Record<string, string> = {}\n      if (Number.isNaN(priceNum)) errs.price = \"Montant invalide\"\n      else if (priceNum < request.offeredPrice) errs.price = \"Pas en dessous du prix demand√©\"\n      setFieldErrors(errs)\n      if (Object.values(errs).some(Boolean)) {\n        setSubmitting(false)\n        return\n      }\n      await createOffer(request.id, { price: Number.parseFloat(counterPrice), message })\n      onAccept()\n    } catch (err: any) {\n      console.error(\"Failed to send offer\", err)\n      const msg =\n        typeof err?.message === \"string\"\n          ? err.message\n          : \"Impossible d'envoyer la contre-offre. V√©rifie le prix ou r√©essaie.\"\n      setError(msg)\n    } finally {\n      setSubmitting(false)\n    }\n  }\n\n  const handleAccept = async () => {\n    setSubmitting(true)\n    setError(null)\n    try {\n      await createOffer(request.id, { price: request.offeredPrice, message: \"\" })\n      onAccept()\n    } catch (err: any) {\n      console.error(\"Failed to submit offer\", err)\n      const msg =\n        typeof err?.message === \"string\"\n          ? err.message\n          : \"Impossible d'envoyer l'offre. Tu as peut-√™tre d√©j√† propos√©.\"\n      setError(msg)\n    } finally {\n      setSubmitting(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background flex flex-col\">\n      <div className=\"flex items-center gap-4 p-4 border-b border-border\">\n        <button onClick={onBack} className=\"p-2 hover:bg-secondary rounded-lg\">\n          <ArrowLeft size={20} />\n        </button>\n        <div className=\"flex-1\">\n          <h1 className=\"font-semibold\">D√©tail de la demande</h1>\n          <p className=\"text-sm text-muted-foreground\">{getServiceLabel(request.serviceType)}</p>\n        </div>\n      </div>\n\n      <div className=\"h-48 relative\">\n        <MapView\n          center={{ lat, lng }}\n          markers={[\n            {\n              id: request.id,\n              lat,\n              lng,\n              type: \"request\",\n              label: request.petName,\n            },\n          ]}\n        />\n      </div>\n\n      <div className=\"flex-1 p-4 overflow-y-auto space-y-4\">\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-start gap-4\">\n              <Avatar className=\"h-16 w-16\">\n                <AvatarImage src={request.petImage || \"/happy-dog-playing.jpeg\"} alt={request.petName} />\n                <AvatarFallback>{petInitial}</AvatarFallback>\n              </Avatar>\n              <div className=\"flex-1\">\n                <h2 className=\"text-xl font-semibold\">{request.petName}</h2>\n                <p className=\"text-muted-foreground capitalize\">{request.petType}</p>\n                <div className=\"flex items-center gap-2 mt-2\">\n                  <Avatar className=\"h-6 w-6\">\n                    <AvatarImage src={request.ownerAvatar || \"/userAvatar.png\"} />\n                    <AvatarFallback>{ownerInitial}</AvatarFallback>\n                  </Avatar>\n                  <span className=\"text-sm text-muted-foreground\">{request.ownerName}</span>\n                </div>\n              </div>\n              <div className=\"text-right\">\n                <div className=\"flex items-center gap-1 text-2xl font-bold text-accent\">\n                  <DollarSign size={24} />\n                  <span>{request.offeredPrice}</span>\n                </div>\n                <p className=\"text-xs text-muted-foreground\">TND propos√©</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-4 space-y-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center\">\n                <ServiceIcon type={request.serviceType} className=\"text-primary\" />\n              </div>\n              <div>\n                <p className=\"font-medium\">{getServiceLabel(request.serviceType)}</p>\n                <p className=\"text-sm text-muted-foreground\">Type de service</p>\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center\">\n                <Calendar size={20} className=\"text-primary\" />\n              </div>\n              <div>\n                <p className=\"font-medium\">\n                  {startLabel} - {endLabel}\n                </p>\n                <p className=\"text-sm text-muted-foreground\">Date & Heure</p>\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center\">\n                <MapPin size={20} className=\"text-primary\" />\n              </div>\n              <div>\n                <p className=\"font-medium\">{address}</p>\n                <p className=\"text-sm text-muted-foreground\">Localisation</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {request.description && (\n          <Card>\n            <CardContent className=\"p-4\">\n              <h3 className=\"font-medium mb-2\">Notes compl√©mentaires</h3>\n              <p className=\"text-sm text-muted-foreground\">{request.description}</p>\n            </CardContent>\n          </Card>\n        )}\n\n        {showCounterOffer && (\n          <Card>\n            <CardContent className=\"p-4 space-y-4\">\n              <h3 className=\"font-medium\">Contre-offre</h3>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"price\">Prix (TND)</Label>\n                <Input\n                  id=\"price\"\n                  type=\"number\"\n                  value={counterPrice}\n                  onChange={(e) => setCounterPrice(e.target.value)}\n                  min={10}\n                  onBlur={() => {\n                    const val = Number.parseFloat(counterPrice)\n                    setFieldErrors((prev) => ({\n                      ...prev,\n                      price: Number.isNaN(val)\n                        ? \"Montant invalide\"\n                        : val < request.offeredPrice\n                          ? \"Pas en dessous du prix demand√©\"\n                          : \"\",\n                    }))\n                  }}\n                  aria-invalid={!!fieldErrors.price}\n                />\n                {fieldErrors.price && (\n                  <p className=\"flex items-center gap-1 text-xs text-destructive\">\n                    <AlertCircle className=\"w-3 h-3\" />\n                    {fieldErrors.price}\n                  </p>\n                )}\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"message\">Message (optionnel)</Label>\n                <Textarea\n                  id=\"message\"\n                  placeholder=\"Pr√©sente-toi au propri√©taire...\"\n                  value={message}\n                  onChange={(e) => setMessage(e.target.value)}\n                  rows={3}\n                />\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n\n      <div className=\"p-4 border-t border-border space-y-2\">\n        {error ? <p className=\"text-sm text-destructive\">{error}</p> : null}\n        {!showCounterOffer ? (\n          <>\n            <div className=\"flex gap-2\">\n              <Button variant=\"outline\" className=\"flex-1 bg-transparent\" onClick={onBack} disabled={submitting}>\n                Refuser\n              </Button>\n              <Button\n                className=\"flex-1 bg-accent hover:bg-accent/90 text-accent-foreground\"\n                onClick={handleAccept}\n                disabled={submitting}\n              >\n                Accepter ({request.offeredPrice} TND)\n              </Button>\n            </div>\n            <Button variant=\"ghost\" className=\"w-full\" onClick={() => setShowCounterOffer(true)} disabled={submitting}>\n              <MessageCircle size={18} className=\"mr-2\" />\n              Faire une contre-offre\n            </Button>\n          </>\n        ) : (\n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"outline\"\n              className=\"flex-1 bg-transparent\"\n              onClick={() => setShowCounterOffer(false)}\n              disabled={submitting}\n            >\n              Annuler\n            </Button>\n            <Button\n              className=\"flex-1 bg-accent hover:bg-accent/90 text-accent-foreground\"\n              onClick={handleSubmitOffer}\n              disabled={submitting}\n            >\n              Envoyer\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8504, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className,\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb className=\"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\" />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,uBAAS,mNAAgB,CAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0KAAqB;QACpB,WAAW,IAAA,kHAAE,EACX,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,8OAAC,2KAAsB;YAAC,WAAU;;;;;;;;;;;AAGtC,OAAO,WAAW,GAAG,0KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 8539, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/sitter/sitter-profile.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent } from \"@/components/ui/card\"\r\nimport { Switch } from \"@/components/ui/switch\"\r\nimport { TrustBadge } from \"@/components/ui/trust-badge\"\r\nimport { ArrowLeft, Edit2, Camera } from \"lucide-react\"\r\nimport type { User } from \"@/app/page\"\r\nimport { useI18n } from \"@/lib/i18n\"\r\nimport { fetchSitterProfile, updateSitterProfile } from \"@/lib/api\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\n\r\ninterface SitterProfileProps {\r\n  user: User\r\n  onBack: () => void\r\n  onUpdateUser: (updates: Partial<User>) => void\r\n}\r\n\r\nexport function SitterProfile({ user, onBack, onUpdateUser }: SitterProfileProps) {\r\n  const { t } = useI18n()\r\n  const [isAvailable, setIsAvailable] = useState(user?.isAvailable ?? true)\r\n  const [bio, setBio] = useState(user?.bio || \"\")\r\n  const [services, setServices] = useState<string[]>(user?.servicesOffered || [])\r\n  const [basePrice, setBasePrice] = useState<number | \"\">(user as any)?.basePrice ?? \"\"\r\n  const [city, setCity] = useState(user?.city || \"\")\r\n  const [saving, setSaving] = useState(false)\n  const [loadError, setLoadError] = useState<string | null>(null)\n  const [profile, setProfile] = useState<any>(null)\n  const [reviews, setReviews] = useState<any[]>([])\n\r\n  useEffect(() => {\r\n    const load = async () => {\r\n      try {\r\n        const data = await fetchSitterProfile()\r\n        setProfile(data)\r\n        setIsAvailable(Boolean(data.is_available ?? data.isAvailable))\r\n        setBio(data.bio || \"\")\r\n        setServices(data.services || data.services_offered || data.servicesOffered || [])\n        setBasePrice(data.base_price ?? data.basePrice ?? \"\")\n        setCity(data.city || \"\")\n        if (data.id) {\n          const rev = await fetchSitterReviews(data.id)\n          setReviews(Array.isArray(rev) ? rev : [])\n        }\n      } catch (err) {\n        console.error(\"Failed to load profile\", err)\n        setLoadError(\"Impossible de charger le profil\")\n      }\n    }\n    void load()\r\n  }, [])\r\n\r\n  const handleAvailabilityChange = (checked: boolean) => {\r\n    setIsAvailable(checked)\r\n    onUpdateUser({ isAvailable: checked })\r\n  }\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true)\r\n    try {\r\n      const payload: any = {\r\n        bio,\r\n        is_available: isAvailable,\r\n        services,\r\n        base_price: basePrice === \"\" ? undefined : basePrice,\r\n        city,\r\n      }\r\n      const updated = await updateSitterProfile(payload)\r\n      onUpdateUser({\r\n        isAvailable: updated.is_available ?? updated.isAvailable,\r\n        bio: updated.bio,\r\n        servicesOffered: updated.services || updated.services_offered || updated.servicesOffered,\r\n        trustScore: updated.trust_score ?? updated.trustScore ?? user.trustScore,\r\n        reviewCount: updated.review_count ?? updated.reviewCount ?? user.reviewCount,\r\n        city: updated.city ?? city,\r\n      })\r\n    } catch (err) {\r\n      console.error(\"Failed to save profile\", err)\r\n    } finally {\r\n      setSaving(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background flex flex-col\">\r\n      <div className=\"flex items-center gap-4 p-4 border-b border-border\">\r\n        <button onClick={onBack} className=\"p-2 hover:bg-secondary rounded-lg\">\r\n          <ArrowLeft size={20} />\r\n        </button>\r\n        <div className=\"flex-1\">\r\n          <h1 className=\"font-semibold\">Mon profil</h1>\r\n        </div>\r\n        <Button variant=\"ghost\" size=\"icon\" onClick={handleSave} disabled={saving}>\r\n          <Edit2 size={18} />\r\n        </Button>\r\n      </div>\r\n\r\n      <div className=\"flex-1 overflow-y-auto\">\r\n        <div className=\"p-6 flex flex-col items-center text-center\">\r\n          <div className=\"relative mb-4\">\r\n            <Avatar className=\"h-24 w-24\">\r\n              <AvatarImage src={user?.avatar || \"/userAvatar.png\"} />\r\n              <AvatarFallback className=\"text-2xl\">{user?.name?.[0]}</AvatarFallback>\r\n            </Avatar>\r\n            <button className=\"absolute bottom-0 right-0 w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground shadow-md\">\r\n              <Camera size={14} />\r\n            </button>\r\n          </div>\r\n\r\n          <h2 className=\"text-xl font-semibold\">{user?.name}</h2>\r\n          <p className=\"text-muted-foreground mb-3\">{user?.email}</p>\r\n\r\n          <TrustBadge score={user?.trustScore ?? 0} reviewCount={user?.reviewCount} size=\"lg\" />\r\n          {loadError ? <p className=\"text-sm text-destructive mt-2\">{loadError}</p> : null}\r\n        </div>\r\n\r\n        <div className=\"px-4 space-y-4 pb-8\">\r\n          <Card>\r\n            <CardContent className=\"p-4 flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"font-medium\">Disponibilit√©</p>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  {isAvailable ? \"Visible pour les propri√©taires\" : \"Vous ne recevrez pas de nouvelles demandes\"}\r\n                </p>\r\n              </div>\r\n              <Switch checked={isAvailable} onCheckedChange={handleAvailabilityChange} />\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardContent className=\"p-4\">\r\n              <h3 className=\"font-medium mb-2\">√Ä propos</h3>\r\n              <Textarea\r\n                value={bio}\r\n                onChange={(e) => setBio(e.target.value)}\r\n                placeholder=\"Parlez de votre exp√©rience, ville, disponibilit√©s...\"\r\n                rows={3}\r\n              />\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardContent className=\"p-4 space-y-3\">\r\n              <h3 className=\"font-medium mb-3\">Services propos√©s</h3>\r\n              <Input\r\n                value={services.join(\", \")}\r\n                onChange={(e) => setServices(e.target.value.split(\",\").map((s) => s.trim()).filter(Boolean))}\r\n                placeholder=\"Garde √† domicile, Promenade, Taxi...\"\r\n              />\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div className=\"space-y-1\">\r\n                  <Label>Tarif de base (TND)</Label>\r\n                  <Input\r\n                    type=\"number\"\r\n                    value={basePrice === \"\" ? \"\" : basePrice}\r\n                    onChange={(e) => setBasePrice(e.target.value === \"\" ? \"\" : Number(e.target.value))}\r\n                    placeholder=\"Ex: 30\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-1\">\r\n                  <Label>Ville</Label>\r\n                  <Input value={city} onChange={(e) => setCity(e.target.value)} placeholder=\"Ex: Tunis\" />\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <div className=\"grid grid-cols-3 gap-3\">\r\n            <Card>\r\n              <CardContent className=\"p-4 text-center\">\r\n                <p className=\"text-2xl font-bold text-primary\">{user?.reviewCount || 0}</p>\r\n                <p className=\"text-xs text-muted-foreground\">{t(\"reviewsCount\")}</p>\r\n              </CardContent>\r\n            </Card>\r\n            <Card>\r\n              <CardContent className=\"p-4 text-center\">\r\n                <p className=\"text-2xl font-bold text-primary\">{user?.trustScore?.toFixed(1) || \"0.0\"}</p>\r\n                <p className=\"text-xs text-muted-foreground\">{t(\"avgRating\")}</p>\r\n              </CardContent>\r\n            </Card>\r\n            <Card>\n              <CardContent className=\"p-4 text-center\">\n                <p className=\"text-2xl font-bold text-accent\">{profile?.completed_count ?? \"‚Äî\"}</p>\n                <p className=\"text-xs text-muted-foreground\">Termin√©es</p>\n              </CardContent>\n            </Card>\n          </div>\n\n          <Card>\n            <CardContent className=\"p-4 space-y-3\">\n              <div className=\"flex items-center justify-between\">\n                <h3 className=\"font-semibold\">Avis</h3>\n                <span className=\"text-xs text-muted-foreground\">{reviews.length} avis</span>\n              </div>\n              {reviews.length === 0 && <p className=\"text-sm text-muted-foreground\">Pas encore d'avis.</p>}\n              {reviews.map((rev) => (\n                <div key={rev.id} className=\"border border-border rounded-xl p-3 space-y-1\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"font-semibold text-sm\">{rev.reviewer_name || \"Client\"}</span>\n                    <span className=\"text-xs text-accent font-semibold\">{rev.rating ?? rev.score} ‚òÖ</span>\n                  </div>\n                  <p className=\"text-sm text-muted-foreground\">{rev.comment || \"\"}</p>\n                  <p className=\"text-xs text-muted-foreground\">\n                    {rev.created_at ? new Date(rev.created_at).toLocaleDateString() : \"\"}\n                  </p>\n                </div>\n              ))}\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9190, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/lib/geo.ts"],"sourcesContent":["export type LatLng = { lat: number; lng: number }\n\nexport function haversineKm(a: LatLng, b: LatLng): number {\n  const R = 6371\n  const dLat = deg2rad(b.lat - a.lat)\n  const dLng = deg2rad(b.lng - a.lng)\n  const lat1 = deg2rad(a.lat)\n  const lat2 = deg2rad(b.lat)\n\n  const sinLat = Math.sin(dLat / 2)\n  const sinLng = Math.sin(dLng / 2)\n\n  const h = sinLat * sinLat + Math.cos(lat1) * Math.cos(lat2) * sinLng * sinLng\n  const c = 2 * Math.atan2(Math.sqrt(h), Math.sqrt(1 - h))\n  return R * c\n}\n\nfunction deg2rad(d: number) {\n  return (d * Math.PI) / 180\n}\n"],"names":[],"mappings":";;;;AAEO,SAAS,YAAY,CAAS,EAAE,CAAS;IAC9C,MAAM,IAAI;IACV,MAAM,OAAO,QAAQ,EAAE,GAAG,GAAG,EAAE,GAAG;IAClC,MAAM,OAAO,QAAQ,EAAE,GAAG,GAAG,EAAE,GAAG;IAClC,MAAM,OAAO,QAAQ,EAAE,GAAG;IAC1B,MAAM,OAAO,QAAQ,EAAE,GAAG;IAE1B,MAAM,SAAS,KAAK,GAAG,CAAC,OAAO;IAC/B,MAAM,SAAS,KAAK,GAAG,CAAC,OAAO;IAE/B,MAAM,IAAI,SAAS,SAAS,KAAK,GAAG,CAAC,QAAQ,KAAK,GAAG,CAAC,QAAQ,SAAS;IACvE,MAAM,IAAI,IAAI,KAAK,KAAK,CAAC,KAAK,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI;IACrD,OAAO,IAAI;AACb;AAEA,SAAS,QAAQ,CAAS;IACxB,OAAO,AAAC,IAAI,KAAK,EAAE,GAAI;AACzB"}},
    {"offset": {"line": 9213, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/components/sitter/sitter-home.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useMemo, useState } from \"react\"\nimport { MapView } from \"@/components/map/map-view\"\nimport { BottomSheet } from \"@/components/map/bottom-sheet\"\nimport { RequestCard } from \"@/components/cards/request-card\"\nimport { RequestDetails } from \"@/components/sitter/request-details\"\nimport { SitterProfile } from \"@/components/sitter/sitter-profile\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { StatusChip } from \"@/components/ui/status-chip\"\nimport { Button } from \"@/components/ui/button\"\nimport { fetchBookingById, fetchBookings, fetchOpenRequests } from \"@/lib/api\"\nimport { parseLocation } from \"@/lib/location\"\nimport { haversineKm } from \"@/lib/geo\"\nimport { useGeolocation } from \"@/lib/use-geolocation\"\nimport { useI18n } from \"@/lib/i18n\"\nimport { getServiceLabel } from \"@/components/ui/service-icon\"\nimport { Bell, Menu, X, User, Filter, Home, Footprints, Car, AlertTriangle, ArrowLeft } from \"lucide-react\"\nimport type { Booking, ServiceRequest, ServiceType } from \"@/lib/types\"\nimport type { User as UserType } from \"@/app/page\"\nimport { ActiveBooking } from \"@/components/owner/active-booking\"\n\ntype SitterView = \"home\" | \"request-details\" | \"profile\" | \"bookings\"\n\ninterface SitterHomeProps {\n  user: UserType\n  onLogout: () => void\n  onUpdateUser: (updates: Partial<UserType>) => void\n}\n\nexport function SitterHome({ user, onLogout, onUpdateUser }: SitterHomeProps) {\n  const { t } = useI18n()\n  const [currentView, setCurrentView] = useState<SitterView>(\"home\")\n  const [selectedRequest, setSelectedRequest] = useState<ServiceRequest | null>(null)\n  const [showMenu, setShowMenu] = useState(false)\n  const [showFilters, setShowFilters] = useState(false)\n  const [filters, setFilters] = useState<{\n    serviceTypes: ServiceType[]\n    maxDistance: number\n    minPrice: number\n    maxPrice: number\n    city: string\n  }>({\n    serviceTypes: [],\n    maxDistance: 15,\n    minPrice: 0,\n    maxPrice: 1000,\n    city: \"\",\n  })\n  const [requests, setRequests] = useState<ServiceRequest[]>([])\n  const [bookings, setBookings] = useState<Booking[]>([])\n  const [selectedBooking, setSelectedBooking] = useState<Booking | null>(null)\n  const [bookingLoading, setBookingLoading] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [fetchError, setFetchError] = useState<string | null>(null)\n  const { coords, loading: geoLoading } = useGeolocation()\n\n  const loadRequests = async () => {\n    setLoading(true)\n    setFetchError(null)\n    try {\n      const [open, myBookings] = await Promise.all([fetchOpenRequests(), fetchBookings()])\n      setBookings(myBookings || [])\n      const activeRequestIds = new Set((myBookings || []).map((b: any) => String(b.requestId || b.request_id)))\n      const filtered = (open || []).filter((r) => {\n        const isOpen = (r.status || \"\").toLowerCase() === \"open\"\n        return isOpen && !activeRequestIds.has(String(r.id))\n      })\n      setRequests(filtered)\n    } catch (err) {\n      console.error(\"Failed to load open requests\", err)\n      setFetchError(t(\"errorLoading\") || \"Erreur de chargement\")\n      setRequests([])\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    void loadRequests()\n  }, [])\n\n  const filteredRequests = useMemo(() => {\n    return requests.filter((r) => {\n      if (filters.serviceTypes.length > 0 && !filters.serviceTypes.includes(r.serviceType)) return false\n      if (r.offeredPrice < filters.minPrice) return false\n      if (r.offeredPrice > filters.maxPrice) return false\n      if (filters.city) {\n        const addr =\n          typeof r.location === \"string\" ? r.location.toLowerCase() : r.location?.address?.toLowerCase() || \"\"\n        if (!addr.includes(filters.city.toLowerCase())) return false\n      }\n      if (coords && filters.maxDistance > 0) {\n        const parsed = parseLocation(r.location)\n        if (parsed) {\n          const dist = haversineKm(coords, { lat: parsed.lat, lng: parsed.lng })\n          if (dist > filters.maxDistance) return false\n        }\n      }\n      return true\n    })\n  }, [requests, filters, coords])\n\n  const markers = filteredRequests\n    .map((r) => {\n      const loc = parseLocation(r.location)\n      if (!loc) return null\n      return { id: r.id, lat: loc.lat, lng: loc.lng, type: \"request\" as const, label: r.petName }\n    })\n    .filter(Boolean) as { id: string; lat: number; lng: number; type: \"request\"; label: string }[]\n\n  const handleRequestClick = (request: ServiceRequest) => {\n    setSelectedRequest(request)\n    setCurrentView(\"request-details\")\n  }\n\n  const toggleServiceFilter = (type: ServiceType) => {\n    setFilters((prev) => ({\n      ...prev,\n      serviceTypes: prev.serviceTypes.includes(type)\n        ? prev.serviceTypes.filter((t) => t !== type)\n        : [...prev.serviceTypes, type],\n    }))\n  }\n\n  if (currentView === \"request-details\" && selectedRequest) {\n    return (\n      <RequestDetails\n        request={selectedRequest}\n        onBack={() => {\n          setCurrentView(\"home\")\n          setSelectedRequest(null)\n        }}\n        onAccept={() => {\n          setCurrentView(\"home\")\n          setSelectedRequest(null)\n          void loadRequests()\n        }}\n      />\n    )\n  }\n\n  if (currentView === \"profile\") {\n    return <SitterProfile user={user} onBack={() => setCurrentView(\"home\")} onUpdateUser={onUpdateUser} />\n  }\n\n  if (currentView === \"bookings\") {\n    if (selectedBooking) {\n      return <ActiveBooking booking={selectedBooking} onBack={() => setSelectedBooking(null)} isSitter />\n    }\n\n    return (\n      <div className=\"min-h-screen bg-background\">\n        <div className=\"flex items-center gap-4 p-4 border-b border-border\">\n          <button onClick={() => setCurrentView(\"home\")} className=\"p-2 hover:bg-secondary rounded-lg\">\n            <ArrowLeft size={20} />\n          </button>\n          <div className=\"flex-1\">\n            <h1 className=\"font-semibold\">{t(\"bookings\")}</h1>\n            <p className=\"text-sm text-muted-foreground\">\n              {bookings.length} {t(\"available\") ?? \"disponibles\"}\n            </p>\n          </div>\n        </div>\n        <div className=\"p-4 space-y-3\">\n          {bookingLoading && <p className=\"text-sm text-muted-foreground\">Chargement du d√©tail...</p>}\n          {bookings.map((b) => {\n            const addr = typeof b.location === \"string\" ? b.location : b.location?.address || t(\"unknownLocation\") || \"\"\n            return (\n              <button\n                key={b.id}\n                className=\"w-full text-left p-4 rounded-xl border bg-card shadow-sm hover:shadow-md transition\"\n                onClick={async () => {\n                  setBookingLoading(true)\n                  try {\n                    const full = await fetchBookingById(b.id)\n                    setSelectedBooking(full)\n                  } catch (e) {\n                    console.error(\"Failed to load booking\", e)\n                  } finally {\n                    setBookingLoading(false)\n                  }\n                }}\n              >\n                <div className=\"flex justify-between items-center mb-2\">\n                  <div className=\"font-semibold\">{b.petName || \"Animal\"}</div>\n                  <StatusChip status={b.status} size=\"sm\" />\n                </div>\n                <div className=\"text-sm text-muted-foreground\">\n                  {getServiceLabel(b.serviceType)} ¬∑ {addr}\n                </div>\n                <div className=\"text-sm text-muted-foreground\">\n                  {b.dateStart ? new Date(b.dateStart).toLocaleDateString() : \"\"}{\" \"}\n                  {b.dateEnd ? new Date(b.dateEnd).toLocaleDateString() : \"\"}\n                </div>\n                <div className=\"text-sm font-semibold mt-1\">{b.price ?? (b as any).agreedPrice ?? 0} TND</div>\n              </button>\n            )\n          })}\n          {bookings.length === 0 && <p className=\"text-sm text-muted-foreground text-center\">{t(\"noData\")}</p>}\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"h-screen w-full relative overflow-hidden\">\n      <div className=\"absolute top-0 left-0 right-0 z-30 p-4 flex items-center justify-between\">\n        <button\n          onClick={() => setShowMenu(true)}\n          className=\"w-10 h-10 bg-card rounded-full shadow-md flex items-center justify-center\"\n        >\n          <Menu size={20} />\n        </button>\n\n        <div className=\"bg-card px-4 py-2 rounded-full shadow-md flex items-center gap-2\">\n          <span className={`w-2 h-2 rounded-full ${user?.isAvailable ? \"bg-accent\" : \"bg-muted-foreground\"}`} />\n          <span className=\"text-sm font-medium\">{user?.isAvailable ? t(\"available\") : t(\"unavailable\")}</span>\n        </div>\n\n        <button className=\"w-10 h-10 bg-card rounded-full shadow-md flex items-center justify-center relative\">\n          <Bell size={20} />\n          <span className=\"absolute top-1 right-1 w-2 h-2 bg-accent rounded-full\" />\n        </button>\n      </div>\n\n      {showMenu && (\n        <div className=\"absolute inset-0 z-50 flex\">\n          <div className=\"absolute inset-0 bg-black/50\" onClick={() => setShowMenu(false)} />\n          <div className=\"relative w-72 bg-card h-full shadow-xl\">\n            <div className=\"p-4 border-b border-border\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <span className=\"font-semibold\">{t(\"menu\")}</span>\n                <button onClick={() => setShowMenu(false)}>\n                  <X size={20} />\n                </button>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <Avatar className=\"h-12 w-12\">\n                  <AvatarImage src={user?.avatar || \"/sitterAvatar.png\"} />\n                  <AvatarFallback>{user?.name?.[0]}</AvatarFallback>\n                </Avatar>\n                <div>\n                  <p className=\"font-medium\">{user?.name}</p>\n                  <p className=\"text-sm text-accent\">\n                    {t(\"trust\")}: {user?.trustScore?.toFixed?.(1) ?? \"0.0\"} ¬∑ {t(\"reviewsCount\")}:{\" \"}\n                    {user?.reviewCount ?? 0}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <div className=\"p-4 space-y-2\">\n              <button\n                onClick={() => {\n                  setCurrentView(\"profile\")\n                  setShowMenu(false)\n                }}\n                className=\"w-full text-left px-4 py-3 rounded-lg hover:bg-secondary flex items-center gap-3\"\n              >\n                <User size={20} />\n                Mon profil\n              </button>\n              <button\n                className=\"w-full text-left px-4 py-3 rounded-lg hover:bg-secondary\"\n                onClick={() => {\n                  void loadRequests()\n                  setCurrentView(\"bookings\")\n                  setShowMenu(false)\n                }}\n              >\n                {t(\"bookings\")}\n              </button>\n              <button className=\"w-full text-left px-4 py-3 rounded-lg hover:bg-secondary\">{t(\"settings\")}</button>\n              <button\n                onClick={onLogout}\n                className=\"w-full text-left px-4 py-3 rounded-lg hover:bg-secondary text-destructive\"\n              >\n                {t(\"logout\")}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <MapView\n        apiKey={process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY}\n        center={coords || { lat: 36.8065, lng: 10.1815 }}\n        markers={markers}\n        showRadius={!!coords}\n        radiusKm={filters.maxDistance}\n        onMarkerClick={(id) => {\n          const request = filteredRequests.find((r) => r.id === id)\n          if (request) handleRequestClick(request)\n        }}\n      />\n\n      <Button\n        onClick={() => setShowFilters(!showFilters)}\n        variant=\"outline\"\n        className=\"absolute top-20 right-4 z-30 bg-card shadow-md\"\n        size=\"icon\"\n      >\n        <Filter size={18} />\n      </Button>\n\n      {showFilters && (\n        <div className=\"absolute top-32 right-4 z-30 w-72 bg-card rounded-xl shadow-lg p-4 space-y-3\">\n          <h3 className=\"font-semibold mb-3\">Filtres</h3>\n\n          <div className=\"mb-4\">\n            <p className=\"text-sm text-muted-foreground mb-2\">{t(\"serviceType\")}</p>\n            <div className=\"flex flex-wrap gap-2\">\n              {[\n                { type: \"sitting\" as ServiceType, icon: Home, label: \"Garde maison\" },\n                { type: \"walking\" as ServiceType, icon: Footprints, label: \"Promenade\" },\n                { type: \"taxi\" as ServiceType, icon: Car, label: \"Taxi\" },\n                { type: \"emergency\" as ServiceType, icon: AlertTriangle, label: \"Urgence\" },\n              ].map(({ type, icon: Icon, label }) => (\n                <button\n                  key={type}\n                  onClick={() => toggleServiceFilter(type)}\n                  className={`px-3 py-1.5 rounded-full text-xs font-medium flex items-center gap-1.5 transition-colors ${\n                    filters.serviceTypes.includes(type)\n                      ? \"bg-primary text-primary-foreground\"\n                      : \"bg-secondary text-secondary-foreground\"\n                  }`}\n                >\n                  <Icon size={12} />\n                  {label}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"space-y-3\">\n            <div>\n              <p className=\"text-sm text-muted-foreground mb-1\">{t(\"city\") ?? \"Ville\"}</p>\n              <input\n                className=\"w-full rounded-md border bg-card p-2 text-sm\"\n                value={filters.city}\n                onChange={(e) => setFilters((prev) => ({ ...prev, city: e.target.value }))}\n                placeholder=\"Ex: Tunis, La Marsa\"\n              />\n            </div>\n            <div className=\"grid grid-cols-2 gap-2\">\n              <div>\n                <p className=\"text-sm text-muted-foreground mb-1\">Min TND</p>\n                <input\n                  type=\"number\"\n                  className=\"w-full rounded-md border bg-card p-2 text-sm\"\n                  value={filters.minPrice}\n                  onChange={(e) => setFilters((prev) => ({ ...prev, minPrice: Number(e.target.value) || 0 }))}\n                />\n              </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground mb-1\">Max TND</p>\n                <input\n                  type=\"number\"\n                  className=\"w-full rounded-md border bg-card p-2 text-sm\"\n                  value={filters.maxPrice}\n                  onChange={(e) =>\n                    setFilters((prev) => ({ ...prev, maxPrice: Number(e.target.value) || prev.maxPrice }))\n                  }\n                />\n              </div>\n            </div>\n            <div>\n              <p className=\"text-sm text-muted-foreground mb-1\">{t(\"distance\") ?? \"Distance (km)\"}</p>\n              <input\n                type=\"number\"\n                className=\"w-full rounded-md border bg-card p-2 text-sm\"\n                value={filters.maxDistance}\n                onChange={(e) =>\n                  setFilters((prev) => ({ ...prev, maxDistance: Number(e.target.value) || prev.maxDistance }))\n                }\n              />\n            </div>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"w-full\"\n              onClick={() =>\n                setFilters({ serviceTypes: [], maxDistance: 15, minPrice: 0, maxPrice: 1000, city: \"\" })\n              }\n            >\n              Effacer\n            </Button>\n          </div>\n        </div>\n      )}\n\n      <BottomSheet defaultSnap={1}>\n        <div className=\"flex items-center justify-between mb-4\">\n          <h2 className=\"text-lg font-semibold\">{t(\"openRequests\")}</h2>\n          <span className=\"text-sm text-muted-foreground\">\n            {loading ? t(\"loading\") : `${filteredRequests.length} disponibles`}\n            {geoLoading ? \" ...\" : \"\"}\n          </span>\n        </div>\n\n        {fetchError && (\n          <div className=\"mb-3 text-sm text-destructive bg-destructive/10 rounded-md p-3\">\n            {fetchError}\n            <Button variant=\"link\" size=\"sm\" className=\"ml-2 px-0\" onClick={() => void loadRequests()}>\n              {t(\"retry\") ?? \"R√©essayer\"}\n            </Button>\n          </div>\n        )}\n\n        <div className=\"space-y-3\">\n          {filteredRequests.map((request) => (\n            <RequestCard key={request.id} request={request} onClick={() => handleRequestClick(request)} />\n          ))}\n\n          {filteredRequests.length === 0 && (\n            <div className=\"text-center py-8\">\n              <p className=\"text-muted-foreground\">{t(\"noData\")}</p>\n              <div className=\"flex justify-center gap-3 mt-2\">\n                <Button variant=\"outline\" size=\"sm\" onClick={() => void loadRequests()}>\n                  {t(\"refresh\") ?? \"Actualiser\"}\n                </Button>\n                <Button\n                  variant=\"link\"\n                  size=\"sm\"\n                  onClick={() => setFilters({ serviceTypes: [], maxDistance: 15, minPrice: 0, maxPrice: 1000, city: \"\" })}\n                >\n                  {t(\"reset\") ?? \"R√©initialiser\"}\n                </Button>\n              </div>\n            </div>\n          )}\n        </div>\n      </BottomSheet>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 10244, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/lib/auth.ts"],"sourcesContent":["import { apiFetch } from \"@/lib/api-client\"\n\nexport async function loginApi(email: string, password: string) {\n  try {\n    const res = await apiFetch(\"/auth/login\", {\n      method: \"POST\",\n      body: JSON.stringify({ email, password }),\n    })\n    const data = await res.json()\n    if (!data.access_token) {\n      throw new Error(\"Login successful but no access_token returned by the backend.\")\n    }\n    if (typeof localStorage !== \"undefined\") {\n      if (data.access_token) localStorage.setItem(\"access_token\", data.access_token)\n      if (data.role) localStorage.setItem(\"role\", data.role)\n    }\n    return data\n  } catch (err: any) {\n    throw err\n  }\n}\n\nexport async function registerApi(payload: { name: string; email: string; password: string; role: string; city?: string }) {\n  const roleUpper = (payload.role || \"\").toUpperCase()\n  await apiFetch(\"/auth/register\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      full_name: payload.name,\n      email: payload.email,\n      password: payload.password,\n      role: roleUpper,\n      city: payload.city || \"Tunis\",\n    }),\n  })\n  // Do not auto-login; user must verify email first\n  return { message: \"verification_sent\" }\n}\n\nexport async function meApi() {\n  const res = await apiFetch(\"/auth/me\", { method: \"GET\" })\n  return res.json()\n}\n\nexport async function verifyEmailApi(email: string, code: string) {\n  const res = await apiFetch(\"/auth/verify-email\", {\n    method: \"POST\",\n    body: JSON.stringify({ email, code }),\n  })\n  return res.json()\n}\n\nexport async function resendVerificationApi(email: string) {\n  const res = await apiFetch(\"/auth/resend-verification\", {\n    method: \"POST\",\n    body: JSON.stringify({ email }),\n  })\n  return res.json()\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAEO,eAAe,SAAS,KAAa,EAAE,QAAgB;IAC5D,IAAI;QACF,MAAM,MAAM,MAAM,IAAA,gIAAQ,EAAC,eAAe;YACxC,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAO;YAAS;QACzC;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,IAAI,CAAC,KAAK,YAAY,EAAE;YACtB,MAAM,IAAI,MAAM;QAClB;QACA,IAAI,OAAO,iBAAiB,aAAa;YACvC,IAAI,KAAK,YAAY,EAAE,aAAa,OAAO,CAAC,gBAAgB,KAAK,YAAY;YAC7E,IAAI,KAAK,IAAI,EAAE,aAAa,OAAO,CAAC,QAAQ,KAAK,IAAI;QACvD;QACA,OAAO;IACT,EAAE,OAAO,KAAU;QACjB,MAAM;IACR;AACF;AAEO,eAAe,YAAY,OAAuF;IACvH,MAAM,YAAY,CAAC,QAAQ,IAAI,IAAI,EAAE,EAAE,WAAW;IAClD,MAAM,IAAA,gIAAQ,EAAC,kBAAkB;QAC/B,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YACnB,WAAW,QAAQ,IAAI;YACvB,OAAO,QAAQ,KAAK;YACpB,UAAU,QAAQ,QAAQ;YAC1B,MAAM;YACN,MAAM,QAAQ,IAAI,IAAI;QACxB;IACF;IACA,kDAAkD;IAClD,OAAO;QAAE,SAAS;IAAoB;AACxC;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,IAAA,gIAAQ,EAAC,YAAY;QAAE,QAAQ;IAAM;IACvD,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,eAAe,KAAa,EAAE,IAAY;IAC9D,MAAM,MAAM,MAAM,IAAA,gIAAQ,EAAC,sBAAsB;QAC/C,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YAAE;YAAO;QAAK;IACrC;IACA,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,sBAAsB,KAAa;IACvD,MAAM,MAAM,MAAM,IAAA,gIAAQ,EAAC,6BAA6B;QACtD,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YAAE;QAAM;IAC/B;IACA,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 10326, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mmabr/OneDrive/Desktop/pet-sitting-app/frontend/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { LandingPage } from \"@/components/landing/landing-page\"\nimport { OwnerHome } from \"@/components/owner/owner-home\"\nimport { SitterHome } from \"@/components/sitter/sitter-home\"\nimport { PawPrint, Loader2 } from \"lucide-react\"\nimport { loginApi, registerApi, meApi } from \"@/lib/auth\"\n\nexport type UserRole = \"owner\" | \"sitter\"\n\nexport interface Pet {\n  id: string\n  name: string\n  type: \"dog\" | \"cat\" | \"bird\" | \"rabbit\" | \"other\"\n  breed?: string\n  age?: number\n  image?: string\n}\n\nexport interface User {\n  id: string\n  name: string\n  email: string\n  role: UserRole\n  avatar?: string\n  phone?: string\n  location?: { lat: number; lng: number; address: string }\n  pets?: Pet[]\n  trustScore?: number\n  reviewCount?: number\n  bio?: string\n  servicesOffered?: string[]\n  isAvailable?: boolean\n}\n\nexport default function Home() {\n  const [user, setUser] = useState<User | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [authError, setAuthError] = useState<string | null>(null)\n  const router = useRouter()\n\n  useEffect(() => {\n    const loadMe = async () => {\n      const token = typeof localStorage !== \"undefined\" ? localStorage.getItem(\"access_token\") : null\n      if (!token) {\n        setIsLoading(false)\n        return\n      }\n      try {\n        const me = await meApi()\n        setUser({\n          id: String(me.id),\n          name: me.name || me.full_name || \"\",\n          email: me.email || \"\",\n          role: (me.role || \"owner\").toLowerCase() === \"sitter\" ? \"sitter\" : \"owner\",\n          avatar: me.avatar,\n          trustScore: me.trust_score ?? me.avg_rating,\n          reviewCount: me.review_count,\n          location:\n            typeof me.location === \"string\"\n              ? { lat: 36.8065, lng: 10.1815, address: me.location }\n              : me.location,\n        })\n      } catch (err) {\n        console.error(\"meApi failed\", err)\n        setUser(null)\n      } finally {\n        setIsLoading(false)\n      }\n    }\n    loadMe()\n  }, [])\n\n  const login = async (email: string, password: string) => {\n    setAuthError(null)\n    try {\n      await loginApi(email, password)\n      const me = await meApi()\n      setUser({\n        id: String(me.id),\n        name: me.name || me.full_name || \"\",\n        email: me.email || \"\",\n        role: (me.role || \"owner\").toLowerCase() === \"sitter\" ? \"sitter\" : \"owner\",\n        avatar: me.avatar,\n        trustScore: me.trust_score ?? me.avg_rating,\n        reviewCount: me.review_count,\n        location:\n          typeof me.location === \"string\"\n            ? { lat: 36.8065, lng: 10.1815, address: me.location }\n            : me.location,\n      })\n    } catch (err: any) {\n      console.error(\"login failed\", err)\n      setAuthError(err?.message || \"Login failed\")\n      setUser(null)\n    }\n  }\n\n  const register = async (name: string, email: string, password: string, role: UserRole) => {\n    setAuthError(null)\n    try {\n      await registerApi({ name, email, password, role })\n      setAuthError(\"V√©rifie ton email pour activer ton compte.\")\n      router.push(`/verify-email?email=${encodeURIComponent(email)}`)\n    } catch (err: any) {\n      console.error(\"register failed\", err)\n      setAuthError(err?.message || \"Register failed\")\n      setUser(null)\n    }\n  }\n\n  const logout = () => setUser(null)\n\n  const updateUser = (updates: Partial<User>) => {\n    setUser((prev) => (prev ? { ...prev, ...updates } : null))\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-background flex flex-col items-center justify-center\">\n        <div className=\"flex items-center gap-2 mb-4\">\n          <div className=\"w-12 h-12 bg-primary rounded-xl flex items-center justify-center\">\n            <PawPrint className=\"w-7 h-7 text-primary-foreground\" />\n          </div>\n          <span className=\"text-2xl font-bold text-foreground\">PetCare</span>\n        </div>\n        <Loader2 className=\"w-6 h-6 text-primary animate-spin\" />\n      </div>\n    )\n  }\n\n  if (!user) {\n    return <LandingPage onLogin={login} onRegister={register} authError={authError ?? undefined} />\n  }\n\n  if (user.role === \"sitter\") {\n    return <SitterHome user={user} onLogout={logout} onUpdateUser={updateUser} />\n  }\n\n  return <OwnerHome user={user} onLogout={logout} onUpdateUser={updateUser} />\n}\n"],"names":[],"mappings":"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"}}]
}